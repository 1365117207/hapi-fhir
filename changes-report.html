
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2018-05-28
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>HAPI FHIR Changelog - HAPI FHIR</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta name="author" content="James Agnew" />
		<meta http-equiv="content-language" content="en" />

		<link href="https://netdna.bootstrapcdn.com/bootswatch/2.3.2/united/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />


		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<script src="syntaxhighlighter/shCore.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushJScript.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushJava.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushBash.js" type="text/javascript"></script>
<script src="syntaxhighlighter/shBrushXml.js" type="text/javascript"></script>
<link rel="stylesheet" href="syntaxhighlighter/shCore.css" type="text/css"/>
<link rel="stylesheet" href="syntaxhighlighter/shThemeDefault.css" type="text/css"/>
<link rel="shortcut icon" href="http://hapifhir.io/favicon.png"/>
<link rel="stylesheet" href="hapi.css" type="text/css"/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
	</head>

	<body class="page-changes-report project-hapi-fhir" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="http://hapifhir.io/"><span class="color-highlight">HAPI</span> FHIR</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="https://smilecdr.com/" title="Support" class="externalLink">Support</a></li>
							<li ><a href="download.html"  title="Download"><i class="fa fa-download"></i> Download</a></li>
							<li ><a href="https://github.com/jamesagnew/hapi-fhir/" title="GitHub Project"  class="externalLink"><i class="fa fa-github"></i> GitHub Project</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-book"></i>&nbsp;Documentation&nbsp;<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="docindex.html" title="Documentation Index">Documentation Index</a></li>
									<li ><a href="doc_intro.html" title="Introduction">Introduction</a></li>
									<li ><a href="doc_dstu2.html" title="DSTU3 Support / HL7.org Structures">DSTU3 Support / HL7.org Structures</a></li>
									<li class="dropdown-submenu ">
										<a href="doc_fhirobjects.html" title="The Data Model">The Data Model</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_fhirobjects.html" title="Working with Resources">Working with Resources</a></li>
											<li ><a href="doc_resource_references.html" title="Resource References">Resource References</a></li>
											<li ><a href="doc_extensions.html" title="Profiles & Extensions">Profiles & Extensions</a></li>
											<li ><a href="doc_tags.html" title="Tags">Tags</a></li>
											<li ><a href="doc_validation.html" title="Validation">Validation</a></li>
											<li ><a href="doc_custom_structures.html" title="Custom Structures">Custom Structures</a></li>
											<li ><a href="doc_converter.html" title="Version Converter">Version Converter</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="doc_rest_client.html" title="RESTful Client">RESTful Client</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_rest_client.html" title="Fluent/Generic Client">Fluent/Generic Client</a></li>
											<li ><a href="doc_rest_client_annotation.html" title="Annotation Client">Annotation Client</a></li>
											<li ><a href="doc_rest_client_interceptor.html" title="Interceptors (client)">Interceptors (client)</a></li>
											<li ><a href="doc_rest_client_http_config.html" title="Client Configuration">Client Configuration</a></li>
											<li ><a href="doc_rest_client_examples.html" title="Client Examples">Client Examples</a></li>
											<li ><a href="doc_rest_client_alternate_provider.html" title="JAX-RS Client & Alternate HTTP Providers">JAX-RS Client & Alternate HTTP Providers</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="doc_rest_server.html" title="RESTful Server">RESTful Server</a>
										<ul class="dropdown-menu">
											<li ><a href="doc_rest_server.html" title="Using RESTful Server">Using RESTful Server</a></li>
											<li ><a href="doc_rest_operations.html" title="RESTful Operations">RESTful Operations</a></li>
											<li ><a href="doc_narrative.html" title="Narrative Generator">Narrative Generator</a></li>
											<li ><a href="doc_rest_server_interceptor.html" title="Interceptors (server)">Interceptors (server)</a></li>
											<li ><a href="doc_rest_server_security.html" title="Security">Security</a></li>
											<li ><a href="doc_cors.html" title="CORS Support">CORS Support</a></li>
											<li ><a href="doc_server_tester.html" title="Web Testing UI">Web Testing UI</a></li>
											<li ><a href="doc_rest_server_jaxrs.html" title="JAX-RS Support">JAX-RS Support</a></li>
										</ul>
									</li>
									<li ><a href="doc_logging.html" title="Logging">Logging</a></li>
									<li ><a href="doc_rest_etag.html" title="ETags">ETags</a></li>
									<li ><a href="doc_jpa.html" title="JPA/Database Server">JPA/Database Server</a></li>
									<li ><a href="doc_android.html" title="Android Support">Android Support</a></li>
									<li class="dropdown-submenu ">
										<a href="apidocs/index.html" title="JavaDocs">JavaDocs</a>
										<ul class="dropdown-menu">
											<li ><a href="apidocs/index.html" title="Core API">Core API</a></li>
											<li ><a href="apidocs-dstu2/index.html" title="Model API (DSTU2)">Model API (DSTU2)</a></li>
											<li ><a href="apidocs-dstu3/index.html" title="Model API (DSTU3)">Model API (DSTU3)</a></li>
											<li ><a href="apidocs-r4/index.html" title="Model API (R4)">Model API (R4)</a></li>
											<li ><a href="apidocs-jpaserver/index.html" title="JPA Server API">JPA Server API</a></li>
										</ul>
									</li>
									<li ><a href="doc_cli.html" title="Command Line Tool (hapi-fhir-cli)">Command Line Tool (hapi-fhir-cli)</a></li>
									<li ><a href="doc_tinder.html" title="Maven Plugin (hapi-tinder-plugin)">Maven Plugin (hapi-tinder-plugin)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-support"></i>&nbsp;Get Help&nbsp;<b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" title="How to Ask for Help (read this first!)" class="externalLink">How to Ask for Help (read this first!)</a></li>
									<li ><a href="https://groups.google.com/d/forum/hapi-fhir" title="Google Group (Ask Questions)" class="externalLink">Google Group (Ask Questions)</a></li>
									<li ><a href="https://github.com/jamesagnew/hapi-fhir/issues" title="Issue Tracker (Report Bugs/Request Features)" class="externalLink">Issue Tracker (Report Bugs/Request Features)</a></li>
									<li ><a href="https://chat.fhir.org/" title="FHIR.org Chat (Live Chat with FHIR Implementors)" class="externalLink">FHIR.org Chat (Live Chat with FHIR Implementors)</a></li>
									<li ><a href="hapi-fhir-faq.html" title="Frequently Asked Questions (FAQ)">Frequently Asked Questions (FAQ)</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Test Server <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="http://hapi.fhir.org" title="Public Test Server" class="externalLink">Public Test Server</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
		<div>
			<ul class="breadcrumb">
				<li><a href="index.html" title="HAPI FHIR">HAPI FHIR</a></li>
				<li class="divider">/</li>
				<li>HAPI FHIR Changelog</li>
				<li class="publishDate version-date pull-right">Last Published: 2018-05-28</li>
				<li class="divider pull-right">|</li>
				<li class="projectVersion version-date pull-right">Version: 3.4.0</li>
			</ul>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="section"> 
 <div class="page-header">
  <h2 id="HAPI_FHIR_Changelog">HAPI FHIR Changelog</h2>
 </div> 
 <div class="section"> 
  <h3 id="Release_History">Release History</h3> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th>Version</th> 
     <th>Date</th> 
     <th>Description</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td><a href="#a3.4.0">3.4.0</a></td> 
     <td>2018-05-28</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a3.3.0">3.3.0</a></td> 
     <td>2018-03-29</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a3.2.0">3.2.0</a></td> 
     <td>2018-01-13</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a3.1.0">3.1.0</a></td> 
     <td>2017-11-23</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a3.0.0">3.0.0</a></td> 
     <td>2017-09-27</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a2.5">2.5</a></td> 
     <td>2017-06-08</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a2.4">2.4</a></td> 
     <td>2017-04-19</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a2.3">2.3</a></td> 
     <td>2017-03-18</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a2.2">2.2</a></td> 
     <td>2016-12-20</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a2.1">2.1</a></td> 
     <td>2016-11-11</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a2.0">2.0</a></td> 
     <td>2016-08-30</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a1.6">1.6</a></td> 
     <td>2016-07-07</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a1.5">1.5</a></td> 
     <td>2016-04-20</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a1.4">1.4</a></td> 
     <td>2016-02-04</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a1.3">1.3</a></td> 
     <td>2015-11-14</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a1.2">1.2</a></td> 
     <td>2015-09-18</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a1.1">1.1</a></td> 
     <td>2015-07-13</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a1.0">1.0</a></td> 
     <td>2015-04-08</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a0.9">0.9</a></td> 
     <td>2015-03-14</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a0.8">0.8</a></td> 
     <td>2014-12-17</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a0.7">0.7</a></td> 
     <td>2014-10-23</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a0.6">0.6</a></td> 
     <td>2014-09-08</td> 
     <td>This release brings a number of new features and bug fixes!</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a0.5">0.5</a></td> 
     <td>2014-07-30</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a0.4">0.4</a></td> 
     <td>2014-07-13</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a0.3">0.3</a></td> 
     <td>2014-05-12</td> 
     <td>This release corrects lots of bugs and introduces the fluent client mode</td> 
    </tr> 
    <tr class="a"> 
     <td><a href="#a0.2">0.2</a></td> 
     <td>2014-04-23</td> 
     <td>&nbsp;</td> 
    </tr> 
    <tr class="b"> 
     <td><a href="#a0.1">0.1</a></td> 
     <td>2014-04-15</td> 
     <td>&nbsp;</td> 
    </tr> 
   </tbody> 
  </table> 
  <p>Get the RSS feed of the last changes:&nbsp;<a href="changes.rss"><img src="images/rss.png" alt="rss feed" title="rss feed" /></a></p> 
 </div> 
 <div class="section"> 
  <h3 id="a340">Release 3.4.0 – 2018-05-28</h3> 
  <table border="0" class="bodyTable table table-striped table-hover"> 
   <thead> 
    <tr class="a"> 
     <th>Type</th> 
     <th>Changes</th> 
     <th>By</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr class="b"> 
     <td><i class="icon-plus"></i></td> 
     <td>The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): 
      <ul> 
       <li>Commons-Lang3 (All): 3.6 -&gt; 3.7</li> 
       <li>Hibernate (JPA): 5.2.12.Final -&gt; 5.2.16.Final</li> 
       <li>Javassist (JPA): 3.20.0-GA -&gt; 3.22.0-GA</li> 
      </ul></td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-plus"></i></td> 
     <td>Several enhancements have been made to the JPA server index tables. These enhancements consist of new colums that will be used in a future version of HAPI FHIR to significantly decrease the amount of space required for indexes on token and string index types. <br /><br /> These new columns are not yet used in HAPI FHIR 3.4.0 but will be enabled in HAPI FHIR 3.5.0. Anyone upgrading to HAPI FHIR 3.4.0 (or above) is recommended to invoke the following SQL statement on their database in order to reindex all data in a background job: <br /> <code>update HFJ_RESOURCE set SP_INDEX_STATUS = null;</code> <br /> Note that if you do this reindex now, you will not have any downtime while you upgrade to HAPI FHIR 3.5.0. If you need to perform the reindex at the time that you upgrade to HAPI FHIR 3.5.0 some indexes may not be available.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-plus"></i></td> 
     <td>R4 structures have been updated to the latest definitions (SVN 13732)</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-wrench"></i></td> 
     <td>When calling a getter on a DSTU3/R4 structure for a choice type (e.g. Observation#getValueString()), a NullPointerException was thrown if there was no value in this field, and the NPE had no useful error message. Now this method call will simply return null. method. Fixes <a class="externalLink" href="https://github.com/jamesagnew/hapi-fhir/issues/846">846</a>.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-wrench"></i></td> 
     <td>When performing a FHIR resource update in the JPA server where the update happens within a transaction, and the resource being updated contains placeholder IDs, and the resource has not actually changed, a new version was created even though there was not actually any change. This particular combination of circumstances seems very specific and improbable, but it is quite common for some types of solutions (e.g. mapping HL7v2 data) so this fix can prevent significant wasted space in some cases.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-wrench"></i></td> 
     <td>JPA server index tables did not have a column length specified on the resource type column. This caused the default of 255 to be used, which wasted a lot of space since resource names are all less than 30 chars long and a single resource can have 10-100+ index rows depending on configuration. This has now been set to a much more sensible 30.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-wrench"></i></td> 
     <td>The LOINC uploader for the JPA Terminology Server has been significantly beefed up so that it now takes in the full set of LOINC distribution artifacts, and creates not only the LOINC CodeSystem but a complete set of concept properties, a number of LOINC ValueSets, and a number of LOINC ConceptMaps. This work was sponsored by the Regenstrief Institute. Thanks to Regenstrief for their support!</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-plus"></i></td> 
     <td>The DSTU2 validator has been refactored to use the same codebase as the DSTU3/R4 validator (which were harmonized in HAPI FHIR 3.3.0). This means that we now have a single codebase for all validators, which improves maintainability and brings a number of improvements to the accuracy of DSTU2 resource validation.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-wrench"></i></td> 
     <td>When encoding a resource that had contained resources with user-supplied local IDs (e.g. resource.setId(&quot;#1&quot;)) as well as contained resources with no IDs (meaning HAPI should automatically assign a local ID for these resources) it was possible for HAPI to generate a local ID that already existed, making the resulting serialization invalid. This has been corrected.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-plus"></i></td> 
     <td>The REST Generic Client now supports invoking an operation on a specific version of a resource instance.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-plus"></i></td> 
     <td>A new operation has been added to the JPA server called &quot;$expunge&quot;. This operation can be used to physically delete old versions of resources, logically deleted resources, or even all resources in the database.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-plus"></i></td> 
     <td>An experimental new feature has been added to AuthorizationInterceptor which allows user-supplied checkers to add additional checking logic to determine whether a particular rule applies. This could be used for example to restrict an auth rule to particular source IPs, or to only allow operations with specific parameter values.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-plus"></i></td> 
     <td>A new qualifier has been added to the AuthorizationInterceptor RuleBuilder that allows a rule on an operation to match <code>atAnyLevel()</code>, meaning that the rule applies to the operation by name whether it is at the server, type, or instance level.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-plus"></i></td> 
     <td>Calling <code>IdType#withVersion(String)</code> with a null/blank parameter will now return a copy of the ID with the version removed. Previously this call would deliberately cause an IllegalArgumentException.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-wrench"></i></td> 
     <td>When updating resources on the JPA server, tags did not always consistently follow FHIR's recommended rules for tag retention. According to FHIR's rules, if a tag is not explicitly present on an update but was present on the previous version, it should be carried forward anyhow. Due to a bug, this happened when more than one tag was present but not when only one was present. This has been corrected. In addition, a new request header called <code>X-Meta-Snapshot-Mode</code> has been added that can be used by the client to override this behaviour.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-wrench"></i></td> 
     <td>The JPA server's resource counts query has been optimized to give the database a bit more flexibility to optimize, which should increase performance for this query.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-plus"></i></td> 
     <td>The JPA server CapabilityStatement generator has been tuned so that resource counts are no longer calculated synchronously as a part of building the CapabilityStatement response. With this change, counts are calculated in the background and cached which can yield significant performance improvements on hevaily loaded servers.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-wrench"></i></td> 
     <td>Fix a significant performance regression in 3.3.0 when validating DSTU3 content using the InstanceValidator. From 3.3.0 onward, StructureDefinitions are converted to FHIR R4 content on the fly in order to reduct duplication in the codebase. These conversions happened upon every validation however, instead of only happening once which adversely affected performance. A cache has been added.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="b"> 
     <td><i class="icon-plus"></i></td> 
     <td>Fix a bug in the DSTU2 QuestionnaireResponseValidator which prevented validation on groups with only one question. Thanks David Gileadi for the pull request!. Fixes <a class="externalLink" href="https://github.com/jamesagnew/hapi-fhir/issues/903">903</a>.</td> 
     <td><a href="team-list.html#null"></a></td> 
    </tr> 
    <tr class="a"> 
     <td><i class="icon-plus"></i></td> 
     <td>The <code>ConceptMap</code>]] operation &lt;code&gt;$translate&lt;/code&gt; has been implemented. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/709&quot;&gt;709&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI-FHIR_CLI now includes two new commands: one for importing and populating a &lt;code&gt;ConceptMap&lt;/code&gt; resource from a CSV; and one for exporting a &lt;code&gt;ConceptMap&lt;/code&gt; resource to a CSV. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/927&quot;&gt;927&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Operation methods on a plain server may now use parameters of type String (i.e. plain Java strings), and any FHIR primitive datatype will be automatically coerced into a String.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The HAPI FHIR CLI now supports importing an IGPack file as an import to the validation process.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When two threads attempt to update the same resource at the same time, previously an unspecified error was thrown by the JPA server. An HTTP 409 (Conflict) with an informative error message is now thrown.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A bug in the JPA server's DSTU2 transaction processing routine caused it to occasionally consume two database connections, which could lead to deadlocks under heavy load. This has been fixed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor sometimes incorrectly identified an operation invocation at the type level as being at the instance level if the method indicated that the IdParam parameter was optional. This has been fixed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;StructureDefinitions for the FHIR standard extensions have been added to the hapi-fhir-validation-resources-XXXX modules. Thanks to Patrick Werner for the pull request! These have also been added to the list of definitions uploaded by the CLI &quot;upload-definitions&quot; command.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A workaround for an invalid search parameter path in the R4 consent resource has been implemented. This path was preventing some Consent resources from successfully being uploaded to the JPA server. Thanks to Anthony Sute for identifying this.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A hard-to-understand validation message was fixed in the validator when validating against profiles that declare some elements as mustSupport but have others used but not declared as mustSupport. Thanks to Patrick Werner for the PR!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/937&quot;&gt;937&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The HAPI FHIR CLI is now available for installation on OSX using the (really excellent) Homebrew package manager thanks to an effort by John Grimes to get it added. Thanks John!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/926&quot;&gt;926&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When the REST Server experiences an expected error (such as a NullPointerException) in a resource provider class, a simple message of &quot;Failed to call access method&quot; is returned to the user. This has been enhanced to also include the message from the underlying exception. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/953&quot;&gt;953&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A bug in the plain server was fixed that prevented some includes from correctly causing their targets to be included in the response bundle. Thanks to GitHub user @RuthAlk for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/836&quot;&gt;836&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateRangeParameter was enhanced to support convenient method chanining, and the parameter validation was improved to only change state after validating that parameters were valid. Thanks to Gaetano Gallo for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/857&quot;&gt;857&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The HumanName DSTU3+ datatype had convenience methods for testing whether the name has a specific given name or not, but these methods did not work. Thanks to Jason Owen for reporting and providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/867&quot;&gt;867&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;An issue was corrected in the validator where Questionnaire references that used contained resources caused an unexpected crash. Thanks to Heinz-Dieter Conradi for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/874&quot;&gt;874&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;An issue in the narrative generator template for the CodeableConcept datatype was corrected. Thanks to @RuthAlk for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/875&quot;&gt;875&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The JPA server automatic reindexing process has been tweaked so that it no longer runs once per minute (this was a heavy strain on large databases) but will instead run once an hour unless triggered for some reason. In addition, the number of threads allocated to reindexing may now be adjusted via a setting in the DaoConfig.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor did not correctly grant access to resources by compartment when the reference on the target resource that pointed to the compartment owner was defined using a resource object (ResourceReference#setResource) instead of a reference (ResourceReference#setReference).&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Several tests were added to ensure accurate validation of QuestionnaireResponse resources. Thanks to Heinz-Dieter Conradi for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/880&quot;&gt;880&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A NullPointerException when validating some QuestionnaireResponse reousrces was fixed in the validator. Thanks to Heinz-Dieter Conradi for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/886&quot;&gt;886&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;QuestionnaireResponse answers of type &quot;text&quot; may now be validated by the FhirInstanceValidator. Thanks to Heinz-Dieter Conradi for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/892&quot;&gt;892&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The REST server has been modified so that the &lt;code&gt;Location&lt;/code&gt; header is no longer returned by the server on read or update responses. This header was returned in the past, but this header is actually inappropriate for any response that is not a create operation. The &lt;code&gt;Content-Location&lt;/code&gt; will still be returned, and will hold the same contents.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The Postgres sample JPA project was fixed to use the current version of HAPI FHIR (it was previously stuck on 2.2). Thanks to Kai Liu for the pull request!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a3.3.0&quot;&gt;Release 3.3.0 &amp;#x2013; 2018-03-29&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;a&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;This release corrects an inefficiency in the JPA Server, but requires a schema change in order to update. Prior to this version of HAPI FHIR, a CLOB column containing the complete resource body was stored in two tables: HFJ_RESOURCE and HFJ_RES_VER. Because the same content was stored in two places, the database consumed more space than is needed to. &lt;br/&gt;&lt;br/&gt; In order to reduce this duplication, the &lt;code&gt;RES_TEXT&lt;/code&gt; and &lt;code&gt;RES_ENCODING&lt;/code&gt; columns have been &lt;b&gt;dropped&lt;/b&gt; from the &lt;code&gt;HFJ_RESOURCE table, and the &lt;code&gt;RES_TEXT&lt;/code&gt; and &lt;code&gt;RES_ENCODING&lt;/code&gt; columns have been &lt;b&gt;made NULLABLE&lt;/b&gt; on the &lt;code&gt;HFJ_RES_VER table. &lt;br/&gt;&lt;br/&gt; The following migration script may be used to apply these changes to your database. Naturally you should back your database up prior to making this change. &lt;pre&gt;ALTER TABLE hfj_resource DROP COLUMN res_text; ALTER TABLE hfj_resource DROP COLUMN res_encoding; ALTER TABLE hfj_res_ver ALTER COLUMN res_encoding DROP NOT NULL; ALTER TABLE hfj_res_ver ALTER COLUMN res_text DROP NOT NULL;&lt;/pre&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The validation module has been refactored to use the R4 (currently maintained) validator even for DSTU3 validation. This is done by using an automatic converter which converts StructureDefinition/ValueSet/CodeSystem resources which are used as inputs to the validator. This change should fix a number of known issues with the validator, as they have been fixed in R4 but not in DSTU3. This also makes our validator much more maintainable since it is now one codebase.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Hibernate (JPA): 5.2.10.Final -&amp;gt; 5.2.12.Final&lt;/li&gt; &lt;li&gt;Spring (JPA): 5.0.0 -&amp;gt; 5.0.3&lt;/li&gt; &lt;li&gt;Thymeleaf (Web Tespage Overlay): 3.0.7.RELEASE -&amp;gt; 3.0.9.RELEASE&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A number of HAPI FHIR modules have been converted so that they now work as OSGi modules. Unlike the previous OSGi module, which was a mega-JAR with all of HAPI FHIR in it, this is simply the appropriate OSGi manifest inside the existing JARs. Thanks to John Poth for the Pull Request! &lt;br/&gt;&lt;br/&gt; Note that this does not cover all modules in the project. Current support includes: &lt;ul&gt; &lt;li&gt;HAPI-FHIR structures DSTU2, HL7ORGDSTU2, DSTU2.1, DSTU3, R4&lt;/li&gt; &lt;li&gt;HAPI-FHIR Resource validation DSTU2, HL7ORGDSTU2, DSTU2.1, DSTU3, R4&lt;/li&gt; &lt;li&gt;Apache Karaf features for all the above&lt;/li&gt; &lt;li&gt; Integration Tests&lt;/li&gt; &lt;/ul&gt; Remaining work includes: &lt;ul&gt; &lt;li&gt;HAPI-FHIR Server support&lt;/li&gt; &lt;li&gt; HAPI-FHIR narrative support. This might be tricky as Thymeleaf doesn't support OSGi.&lt;/li&gt; &lt;/ul&gt;. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/871&quot;&gt;871&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a crash in the JSON parser when parsing extensions on repeatable elements (e.g. Patient.address.line) where there is an extension on the first repetition but not on subsequent repetitions of the repeatable primitive. Thanks to Igor Sirkovich for providing a test case!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an issue where the JPA server crashed while attempting to normalize string values containing Korean text. Thanks to GitHub user @JoonggeonLee for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/832&quot;&gt;832&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;An issue was solved where it was possible for server interceptors to have both processingCompletedNormally and handleException called if the stream.close() method threw an exception. Thanks to Carlos Eduardo Lara Augusto for investigating!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;The &lt;code&gt;@TagListParam&lt;/code&gt; annotation has been removed. This annotation had no use after DSTU1 but never got deleted and was misleading. Thanks to Angelo Kastroulis for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/831&quot;&gt;831&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new method overload has been added to IServerInterceptor: &lt;code&gt;outgoingResponse(RequestDetails, ResponseDetails, HttpServletRequest, HttpServletResponse) . This new method allows an interceptor to completely replace the resource being returned with a different resource instance, or to modify the HTTP Status Code being returned. All other &quot;outgoingResponse&quot; methods have been deprecated and are recommended to be migrated to the new method. This new method (with its RequestDetails and ResponseDetails parameters) should be flexible enough to accommodate future needs which means that this should be the last time we have to change it.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The HAPI-FHIR-CLI now explicitly includes JAXB dependencies in its combined JAR file. These were not neccesary prior to Java 9, but the JDK (mercifully) does not include JAXB in the default classpath as of Java 9. This means that it is possible to perform Schematron validation on Java 9. Thanks to John Grimes for reporting and suggesting a fix!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/838&quot;&gt;838&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;An experimental interceptor called VersionedApiConverterInterceptor has been added, which automaticaly converts response payloads to a client-specified version according to transforms built into FHIR.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Searches which were embedded in a Bundle as a transaction or batch operation did not respect any chained method parameters (e.g. MedicationRequest?medication.code=123). Thanks to @manjusampath for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/822&quot;&gt;822&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A few fixes went into the build which should now allow HAPI FHIR to build correctly on JDK 9.0. Currently building is supported on JDK 8.x and 9.x only.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client requests with an &lt;code&gt;Accept&lt;/code&gt; header value of &lt;code&gt;application/json&lt;/code&gt; will now be served with the non-legacy content type of &lt;code&gt;application/fhir+json&lt;/code&gt; instead of the legacy &lt;code&gt;application/json+fhir&lt;/code&gt;. Thanks to John Grimes for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/837&quot;&gt;837&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fixed a regression in server where a count parameter in the form &lt;code&gt;@Count IntegerType theCount&lt;/code&gt; caused an exception if the client made a request with no count parameter included. Thanks to Viviana Sanz for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A bug in the JPA server was fixed where a Subscription incorrectly created without a status or with invalid criteria would cause a crash during startup.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;ResponseHighlightingInterceptor now properly parses _format parameters that include additional content (e.g. &lt;code&gt;_format=html/json;fhirVersion=1.0&lt;/code&gt;)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Stale search deleting routine on JPA server has been adjusted to delete one search per transaction instead of batching 1000 searches per transaction. This should make the deletion logic more tolerant of deleting very large search result sets.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Avoid refreshing the search parameter cache from an incoming client request thread, which caused unneccesary delays for clients.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;An occasional crash in the JPA was fixed when using unique search parameters and updating a resource to no longer match one of these search parameters.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Avoid an endless loop of reindexing in JPA if a SearchParameter is created which indexed the SearchParameter resource itself&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now performs temporary/placeholder ID substitution processing on elements in resources which are of type &quot;URI&quot; in addition to the current substitution for elements of type &quot;Reference&quot;. Thanks to GitHub user @t4deon for supplying a testcase!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/854&quot;&gt;854&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Deleting a resource from the testpage overlay resulted in an error page after clicking &quot;delete&quot;, even though the delete succeeded.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;A number of info level log lines have been reduced to debug level in the JPA server, in order to reduce contention during heavy loads and reduce the amount of noise in log files overall. A typical server should now see far less logging coming from HAPI, at least at the INFO level.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now correctly indexes custom search parameters which have multiple base resource types. Previously, the indexing could cause resources of the wrong type to be returned in a search if a parameter being used also matched that type. Thanks to Dave Carlson for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/863&quot;&gt;863&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new IResourceProvider implementation called &lt;code&gt;HashMapResourceProvider&lt;/code&gt; has been added. This is a complete resource provider implementation that uses a HashMap as a backing store. This class is probably of limited use in real production systems, but it cam be useful for tests or for static servers with small amounts of data.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;An issue in the JPA server was corrected where searching using URI search parameters would sometimes not include the resource type in the criteria. This meant, for example, that a search for &lt;code&gt;ValueSet?url=http://foo&lt;/code&gt; would also match any CodeSystem resource that happened to also have that URL as the value for the &quot;url&quot; search parameter. Thanks to Josh Mandel for reporting and supplying a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/872&quot;&gt;872&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateParam class now has equals() and hashCode() implementations. Thanks to Gaetano Gallo for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/868&quot;&gt;868&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a bug where under certain circumstances, duplicate contained resources could be output by the parser's encode methods. Thanks to Frank Tao for supplying a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/814&quot;&gt;814&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The client LoggingInterceptor now includes the number of milliseconds spent performing each call that is logged.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;ReferenceParam has been enhanced to properly return the resource type to user code in a server via the ReferenceType#getResourceType() method if the client has specified a reference parameter with a resource type. Thanks to @CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/786&quot;&gt;786&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;An entry has been added to ResourceMetadataKeyEnum which allows extensions to be placed in the resource metadata section in DSTU2 resource (this is possible already in DSTU3+ resources as Meta is a normal model type, but the older structures worked a bit differently. Thanks to GitHub user sjanic for the contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/776&quot;&gt;776&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;An example project has een contributed which shows how to use the CQL framework in a server with HAPI FHIR JPA. Thanks to Chris Schuler for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/791&quot;&gt;791&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new module has been contributed called hapi-fhir-jpaserver-elasticsearch which adds support for Elasticsearch instead of raw Lucene for fulltext indexing. Testing help on this would be appreciated! Thanks to Jiajing Liang for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/798&quot;&gt;798&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JAX-RS server now supports R4 and DSTU2_1 FHIR versions, which were previously missing. Thanks to Clayton Bodendein for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/800&quot;&gt;800&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor did not correctly handle authorization against against a compartment where the compartment owner was specified as a list of IDs. Thanks to Jiajing Liang for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/806&quot;&gt;806&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST HOOK subscriptions in the JPA server now support having an empty/missing Subscription.channel.payload value, which is supported according to the FHIR specification. Thanks to Jeff Chung for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/812&quot;&gt;812&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA Server Operation Interceptor create/update methods will now no longer be fired if the create/update operation being performed is a no-op (e.g. a conditional create that did not need to perform any action, or an update where the contents didn't actually change)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server sometimes updated resources even though the client supplied an update with no actual changes in it, due to changes in the metadata section being considered content changes. Thanks to Kyle Meadows for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/879&quot;&gt;879&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new example project has been added called hapi-fhir-jpaserver-dynamic, which uses application/environment properties to configure which version of FHIR the server supports and other configuration. Thanks to Anoush Mouradian for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/817&quot;&gt;817&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new example project showing the use of JAX-RS Server Side Events has been added. Thanks to Jens Kristian Villadsen for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/581&quot;&gt;581&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;An unneccesary reference to the Javassist library has been removed from the build. Thanks to Łukasz Dywicki for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/864&quot;&gt;864&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support has been added to the JPA server for the :not modifier. Thanks to Łukasz Dywicki for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/819&quot;&gt;819&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Suport for the :contains string search parameter modifier has been added to the JPA server. Thanks to Anthony Sute for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/877&quot;&gt;877&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;All instances of DefaultProfileValidationSupport (i.e. one for each version of FHIR) have been fixed so that they explicitly close any InputStreams they open in order to read the built-in profile resources. Leaving these open caused resource starvation in some cases under heavy load.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a3.2.0&quot;&gt;Release 3.2.0 &amp;#x2013; 2018-01-13&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;a&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support for custom search parameters has been backported in the JPA server from DSTU3 back to DSTU2. As of this release of HAPI, full support for custom search parameters exists in all supported versions of FHIR.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new set of methods have been added to &lt;code&gt;IServerOperationInterceptor&lt;/code&gt; called &lt;code&gt;resourcePreCreate&lt;/code&gt;, &lt;code&gt;resourcePreUpdate&lt;/code&gt;, and &lt;code&gt;resourcePreDelete&lt;/code&gt;. These methods are called within the database transaction (just as the existing methods were) but are invoked prior to the contents being saved to the database. This can be useful in order to allow interceptors to change payload contents being saved.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;A few redundant and no longer useful methods have been marked as deprecated in &lt;code&gt;IServerInterceptor&lt;/code&gt;. If you have implemented custom interceptors you are recommended to migrate to the recommended methods.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new method has been added to RequestDetails called &lt;code&gt;setRequestContents() which can be used by interceptors to modify the request body before it is parsed by the server.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a crash in JPA server when performing a recursive &lt;code&gt;_include&lt;/code&gt; which doesn't actually find any matches.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When encoding URL parameter values, HAPI FHIR would incorrectly escape a space (&quot; &quot;) as a plus (&quot;+&quot;) insetad of as &quot;%20&quot; as required by RFC 3986. This affects client calls, as well as URLs generated by the server (e.g. REST HOOK calls). Thanks to James Daily for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/796&quot;&gt;796&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Searching in JPA server using a combination of _content and _id parameters failed. Thanks to Jeff Weyer for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new configuration option has been added to DaoConfig which allows newly created resources to be assigned a UUID by the server instead of a sequential ID&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;An unneccesary column called &quot;MYHASHCODE&quot; was added to the HFJ_TAG_DEF table in the JPA server schema&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A few log entries emitted by the JPA server suring every search have been reduced from INFO to DEBUG in order to reduce log noise&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an issue in JPA server where updating a resource sometimes caused date search indexes to be incorrectly deleted. Thanks to Kyle Meadows for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/810&quot;&gt;810&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Servers did not return an ETag if the version was provided on a DSTU3/R4 structure in the getMeta() version field instead of in the getIdElement() ID. Thanks to GitHub user @Chrisjobling for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/808&quot;&gt;808&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;A bug was fixed in the JPA server when performing a validate operation with a mode of DELETE on a server with referential integrity disabled, the validate operation would delete resource reference indexes as though the delete was actually happening, which negatively affected searching for the resource being validated.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The HAPI FHIR Server framework now has initial support for multitenancy. At this time the support is limited to the server framework (not the client, JPA, or JAX-RS frameworks). See &lt;a href=&quot;http://hapifhir.io/doc_rest_server.html&quot;&gt;Server Documentation&lt;/a&gt; for more information.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a3.1.0&quot;&gt;Release 3.1.0 &amp;#x2013; 2017-11-23&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Spring (JPA): 4.3.10 -&amp;gt; 5.0.0&lt;/li&gt; &lt;li&gt;Jackson (JPA): 2.8.1 -&amp;gt; 2.9.2&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The Android client module has been restored to working order, and no longer requires a special classifier or an XML parser to be present in order to work. This means that the hapi-fhir-android library is much less likely to cause conflicts with other libraries imported into an Android application via Gradle. &lt;br/&gt;&lt;br/&gt; See the &lt;a href=&quot;http://hapifhir.io/doc_android.html&quot;&gt;HAPI FHIR Android Documentation&lt;/a&gt; for more information. As a part of this fix, all dependencies on the StAX API have been removed in environments where StAX is not present (such as Android). The client will now detect this case, and explicitly request JSON payloads from servers, meaning that Android clients no longer need to include two parser stacks&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A performance to the JPA server has been made which reduces the number of writes to index tables when updating a resource with contents that only make minor changes to the resource content. In many cases this can noticeably improve update performance.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In FHIR DSTU3 the &lt;code&gt;ValueSet/$expand?identifier=foo&lt;/code&gt; and &lt;code&gt;ValueSet/$validate-code?identifier=foo&lt;/code&gt; parameters were changed to &lt;code&gt;ValueSet/$expand?url=foo&lt;/code&gt; and &lt;code&gt;ValueSet/$validate-code?url=foo&lt;/code&gt; respectively, but the JPA server had not caught up. The JPA DSTU3 server has been adjusted to accept either &quot;identifier&quot; or &quot;url&quot; (with &quot;url&quot; taking precedence), and the JPA R4 server has been changed to only accept &quot;url&quot;. Thanks to Avinash Shanbhag for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an error in JPA server when using Derby Database, where search queries with a search URL longer than 255 characters caused a mysterious failure. Thanks to Chris Schuler and Bryn Rhodes for all of their help in reproducing this issue. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/744&quot;&gt;744&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports the use of the &lt;code&gt;Cache-Control&lt;/code&gt; header in order to allow the client to selectively disable the search result cache. This directive can also be used to disable result paging and return results faster when only a small number of results is needed. See the &lt;a href=&quot;http://hapifhir.io/doc_jpa.html&quot;&gt;JPA Page&lt;/a&gt; for more information.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In certain cases in the JPA server, if multiple threads all attempted to update the same resource simultaneously, the optimistic lock failure caused a &quot;gap&quot; in the history numbers to occur. This would then cause a mysterious failure when trying to update this resource further. This has been resolved.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA Server search/history results now set the ID of the returned Bundle to the ID of the search, meaning that if a search returns results from the Query cache, it will reuse the ID of the previously returned Bundle&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a NullPointerException when validating a Bundle (in DSTU3/R4) with no &lt;code&gt;Bundle.type&lt;/code&gt; value&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The JPA server transaction operation (DSTU3/R4) did not correctly process the If-Match header when passed in via &lt;code&gt;Bundle.entry.request.ifMatch&lt;/code&gt; value&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;In Apache client, remove a log message at WARN level when the response does not specify a charset. This log line often showed up any time a server was not supplying a response, making client logs quite noisy&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new configuration item has been added to the JPA server DaoConfig called &lt;code&gt;getCountSearchResultsUpTo()&lt;/code&gt;. This setting governs how many search results the search coordinator should try to find before returning an initial search response to the user, which has an effect on whether the &lt;code&gt;Bundle.total&lt;/code&gt; field is always populated in search responses. This has now been set to 20000 on out public server (fhirtest.uhn.ca) so most search results should now include a total.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove a bunch of exceptions in the org.hl7.fhir.exception package from the hapi-fhir-base module, as they were also duplicated in the hapi-fhir-utilities module.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The DSTU2 XhtmlDt type has been modified so that it no longer uses the StAX XMLEvent type as its internal model, and instead simply uses a String. New methods called &quot;parse&quot; and &quot;encode&quot; have been added to HAPI FHIR's XmlUtil class, which can be used to convert between a String and an XML representation. This should allow HAPI FHIR to run in environments where StAX is not available, such as Android phones.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Restored the &lt;code&gt;org.hl7.fhir.r4.model.codesystem.*&lt;/code&gt; classes (which are Java Enums for the various FHIR codesystems). These were accidentally removed in HAPI FHIR 3.0.0. Thanks to GitHub user @CarthageKing for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/761&quot;&gt;761&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The resource Profile Validator has been enhanced to not try to validate bound fields where the binding strength is &quot;example&quot;, and a crash was resolved when validating QuestionnaireResponse answers with a type of &quot;choice&quot; where the choice was bound to a ValueSet.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove the fake &quot;Test&quot; resource from DSTU2 structures. This was not a real resource type, and caused conflicts with the .NET client. Thanks to Vlad Ignatov for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parsing a DSTU3/R4 custom structure which contained a field of a custom type caused a crash during parsing. Thanks to GitHub user @mosaic-hgw for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/720&quot;&gt;720&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client logic for checking the version of the connected server to ensure it is for the correct version of FHIR now includes a check for R4 servers. Thanks to Clayton Bodendein for the pull request, including a number of great tests!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/711&quot;&gt;711&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JAX-RS client framework now supports the ability to register your own JAX-RS Component Classes against the client, as well as better documentation about thread safety. Thanks to S&Atilde;&copy;bastien Rivi&Atilde;&uml;re for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/714&quot;&gt;714&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Processing of the If-Modified-Since header on FHIR read operations was reversed, returning a 304 when the resource had been modified recently. Thanks to Michael Lawley for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/717&quot;&gt;717&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add &lt;code&gt;Prefer&lt;/code&gt; and &lt;code&gt;Cache-Control&lt;/code&gt; to the list of headers which are declared as being acceptable for CORS requests in CorsInterceptor, CLI, and JPA Example. Thanks to Patrick Werner for the pull request!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU2-hl7org and DSTU2.1 structures did not copy resource IDs when invoking copyValues(). Thanks to Clayton Bodendein for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/725&quot;&gt;725&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When encoding a Binary resource, the Binary.securityContext field was not encoded correctly. Thanks to Malcolm McRoberts for the pull request with fix and test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/734&quot;&gt;734&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bundle resources did not have their version encoded when serializing in FHIR resource (XML/JSON) format.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The Binary resource endpoint now supports the &lt;code&gt;X-Security-Context&lt;/code&gt; header when reading or writing Binary contents using their native Content-Type (i.e exchanging the raw binary with the server, as opposed to exchanging a FHIR resource).&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When paging through multiple pages of search results, if the client had requested a subset of resources to be returned using the &lt;code&gt;_elements&lt;/code&gt; parameter, the elements list was lost after the first page of results. In addition, elements will not remove elements from search/history Bundles (i.e. elements from the Bundle itself, as opposed to elements in the entry resources) unless the Bundle elements are explicitly listed, e.g. &lt;code&gt;_include=Bundle.total&lt;/code&gt;. Thanks to @parisni for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for Spring Boot for initializing a number of parts of the library, as well as several examples. See the &lt;a href=&quot;https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-spring-boot/hapi-fhir-spring-boot-samples&quot;&gt;Spring Boot samples&lt;/a&gt; for examples of how this works. Thanks to Mathieu Ouellet for the contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/743&quot;&gt;743&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now has lucene index support moved to separate classes from the entity classes in order to facilitate support for ElasticSearch. Thanks to Jiang Liang for the pull request! Note that any existing JPA projects will need to add an additional property in their Spring config called &lt;code&gt;hibernate.search.model_mapping&lt;/code&gt;. See &lt;a href=&quot;https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-jpaserver-example/src/main/java/ca/uhn/fhir/jpa/demo/FhirServerConfig.java#L84&quot;&gt;this line&lt;/a&gt; in the example project. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/747&quot;&gt;747&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new client interceptor has been added called AdditionalRequestHeadersInterceptor, which allows a developer to add additional custom headers to a client requests. Thanks to Clayton Bodendein for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/755&quot;&gt;755&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;An issue was fixed in JPA server where extensions on primitives which are nestedt several layers deep are lost when resources are retrieved&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Conditional deletes in JPA server were incorrectly denied by AuthorizationInterceptor if the delete was permitted via a compartment rule. Thanks to Alvin Leonard for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/756&quot;&gt;756&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JAX-RS server module was not able to generate server CapabilityStatement for some versions of FHIR (DSTU2_HL7ORG, DSTU2_1, or R4). Thanks to Clayton Bodendein for the Pull Request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/767&quot;&gt;767&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When a server method throws a DataFormatException, the error will now be converted into an HTTP 400 instead of an HTTP 500 when returned to the client (and a stack trace will now be returned to the client for JAX-RS server if configured to do so). Thanks to Clayton Bodendein for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/769&quot;&gt;769&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JAX-RS server conformance provider in the example module passed in the server description, server name, and server version in the incorrect order. Thanks to Clayton Bodendein for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/770&quot;&gt;770&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The learn more links on the website home page had broken links. Thanks to James Daily for the pull request to fix this!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/774&quot;&gt;774&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent a crash in AuthorizationInterceptor when processing transactions if the interceptor has rules declared which allow resources to be read/written by &quot;any ID of a given type&quot;. Thanks to GitHub user @dconlan for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/762&quot;&gt;762&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a3.0.0&quot;&gt;Release 3.0.0 &amp;#x2013; 2017-09-27&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support for FHIR R4 (current working draft) has been &lt;b&gt;added&lt;/b&gt; (in a new module called &lt;code&gt;hapi-fhir-structures-r4&lt;/code&gt;) and support for FHIR DSTU1 (&lt;code&gt;hapi-fhir-structures-dstu&lt;/code&gt;) has been &lt;b&gt;removed&lt;/b&gt;. Removing support for the legacy DSTU1 FHIR version was a difficult decision, but it allows us the opportunitity to clean up the codebase quite a bit, and remove some confusing legacy parts of the API (such as the legacy Atom Bundle class). &lt;br/&gt;&lt;br/&gt; A new redesigned table of HAPI FHIR versions to FHIR version support has been added to the &lt;a href=&quot;http://hapifhir.io/download.html&quot;&gt;Download Page&lt;/a&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI FHIR's modules have been restructured for more consistency and less coupling between unrelated parts of the API. &lt;br/&gt;&lt;br/&gt; A new complete list of HAPI FHIR modules has been added to the &lt;a href=&quot;http://hapifhir.io/download.html&quot;&gt;Download Page&lt;/a&gt;. Key changes include: &lt;ul&gt; &lt;li&gt; HAPI FHIR's &lt;b&gt;client&lt;/b&gt; codebase has been moved out of &lt;code&gt;hapi-fhir-base&lt;/code&gt; and in to a new module called &lt;code&gt;hapi-fhir-client&lt;/code&gt;. Client users now need to explicitly add this JAR to their project (and non-client users now no longer need to depend on it) &lt;/li&gt; &lt;li&gt; HAPI FHIR's &lt;b&gt;server&lt;/b&gt; codebase has been moved out of &lt;code&gt;hapi-fhir-base&lt;/code&gt; and in to a new module called &lt;code&gt;hapi-fhir-server&lt;/code&gt;. Server users now need to explicitly add this JAR to their project (and non-server users now no longer need to depend on it) &lt;/li&gt; &lt;li&gt; As a result of the client and server changes above, we no longer need to produce a special Android JAR which contains the client, server (which added space but was not used) and structures. There is now a normal module called &lt;code&gt;hapi-fhir-android&lt;/code&gt; which is added to your Android Gradle file along with whatever structures JARs you wish to add. See the &lt;a href=&quot;https://github.com/hapifhir/hapi-fhir-android-integration-test&quot;&gt;Android Integration Test&lt;/a&gt; to see a sample project using HAPI FHIR 3.0.0. &lt;b&gt;Note that this has been reported to work by some people but others are having issues with it!&lt;/b&gt; In order to avoid delaying this release any further we are releasing now despite these issues. If you are an Android guru and want to help iron things out please get in touch. If not, it might be a good idea to stay on HAPI FHIR 2.5 until the next point release of the 3.x series. &lt;/li&gt; &lt;li&gt; A new JAR containing FHIR utilities called &lt;code&gt;hapi-fhir-utilities&lt;/code&gt; has been added. This JAR reflects the ongoing harmonization between HAPI FHIR and the FHIR RI codebases and is generally required in order to use HAPI at this point (if you are using a dependency manager such as Maven or Gradle it will be brought in to your project automatically as a dependency) &lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;In order to allow the reoganizations and decoupling above to happen, a number of important classes and interfaces have been moved to new packages. A sample list of these changes is listed below. When upgrading to 3.0.0 your project may well show a number of compile errors related to missing classes. In most cases this can be resolved by simply removing the HAPI imports from your classes and asking your IDE to &quot;Organize Imports&quot; once again. This is an annoying change we do realize, but it is neccesary in order to allow the project to continue to grow. &lt;ul&gt; &lt;li&gt;IGenericClient moved from package ca.uhn.fhir.rest.client to package ca.uhn.fhir.rest.client.api&lt;/li&gt; &lt;li&gt;IRestfulClient moved from package ca.uhn.fhir.rest.client to package ca.uhn.fhir.rest.client.api&lt;/li&gt; &lt;li&gt;AddProfileTagEnum moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.context.api&lt;/li&gt; &lt;li&gt;IVersionSpecificBundleFactory moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.context.api&lt;/li&gt; &lt;li&gt;BundleInclusionRule moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.context.api&lt;/li&gt; &lt;li&gt;RestSearchParameterTypeEnum moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.rest.api&lt;/li&gt; &lt;li&gt;EncodingEnum moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.rest.api&lt;/li&gt; &lt;li&gt;Constants moved from package ca.uhn.fhir.rest.server to package ca.uhn.fhir.rest.api&lt;/li&gt; &lt;li&gt;IClientInterceptor moved from package ca.uhn.fhir.rest.client to package ca.uhn.fhir.rest.client.api&lt;/li&gt; &lt;li&gt;ITestingUiClientFactory moved from package ca.uhn.fhir.util to package ca.uhn.fhir.rest.server.util&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Because the Atom-based DSTU1 Bundle class has been removed from the library, users of the HAPI FHIR client must now always include a Bundle return type in search calls. For example, the following call would have worked previously: &lt;pre&gt; Bundle bundle = client.search().forResource(Patient.class) .where(new TokenClientParam(&quot;gender&quot;).exactly().code(&quot;unknown&quot;)) .prettyPrint() .execute(); &lt;/pre&gt; This now needs an explicit returnBundle statement, as follows: &lt;pre&gt; Bundle bundle = client.search().forResource(Patient.class) .where(new TokenClientParam(&quot;gender&quot;).exactly().code(&quot;unknown&quot;)) .prettyPrint() .returnBundle(Bundle.class) .execute(); &lt;/pre&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The version of a few dependencies have been bumped to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Gson (JSON Parser): 2.8.0 -&amp;gt; 2.8.1&lt;/li&gt; &lt;li&gt;Commons-lang3 (Everywhere): 3.5 -&amp;gt; 3.6&lt;/li&gt; &lt;!--&lt;li&gt;Saxon-HE (Validator): 9.5.1-5 -&amp;gt; 9.8.0-3&lt;/li&gt;--&gt; &lt;li&gt;Apache HttpClient (FHIR Client): 4.5.2 -&amp;gt; 4.5.3&lt;/li&gt; &lt;li&gt;Apache HttpCore (FHIR Client): 4.4.5 -&amp;gt; 4.4.6&lt;/li&gt; &lt;li&gt;Phloc Commons (Schematron Validator): 4.4.6 -&amp;gt; 4.4.11&lt;/li&gt; &lt;li&gt;Hibernate (JPA): 5.2.9 -&amp;gt; 5.2.10&lt;/li&gt; &lt;li&gt;Hibernate Search (JPA): 5.7.0 -&amp;gt; 5.7.1&lt;/li&gt; &lt;li&gt;Spring (JPA): 4.3.7 -&amp;gt; 4.3.10&lt;/li&gt; &lt;li&gt;Spring Data JPA (JPA): 1.10.4 -&amp;gt; 1.11.6&lt;/li&gt; &lt;li&gt;Guava (JPA): 22.0 -&amp;gt; 23.0&lt;/li&gt; &lt;li&gt;Thymeleaf (Testpage Overlay): 3.0.2 -&amp;gt; 3.0.7&lt;/li&gt; &lt;li&gt;OkHttp (Android): 3.4.1 -&amp;gt; 3.8.1&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA Subscription support has been refactored. A design contributed by Jeff Chung for the REST Hook subscription module has been ported so that Websocket subscriptions use it too. This design uses an interceptor to scan resources as they are processed to test whether they should be delivered to subscriptions, instead of using a polling design. &lt;br/&gt;&lt;br/&gt; In addition, this scanning has been reworked to happen in a separate thread from the main storage thread, which should improve performance and scalability of systems with multiple subscriptions. Thanks to Jeff for all of his work on this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;hapi-fhir-client-okhttp project POM had dependencies on both hapi-fhir-structures-dstu2 and hapi-fhir-structures-dstu3, which meant that any project using ookhttp would import both structures JARs. This has been removed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server is now able to handle placeholder IDs (e.g. urn:uuid:00....000) being used in Bundle.entry.request.url as a part of the conditional URL within transactions.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Schematron validator now applies invariants to resources within a Bundle, not just to the outer Bundle resource itself&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server and Client both still included Category header for resource tags even though this feature was only present in FHIR DSTU1 and was removed from the specification in FHIR DSTU2. The presence of these headers sometimes caused parsed resource instances to contain duplicate tags&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When using the AuthorizationInterceptor with the JPA server, when a client is updating a resource from A to B, the user now needs to have write permission for both A and B. This is particularly important for cases where (for example) an Observation is being updated from having a subject of Patient/A to Patient/B. If the user has write permission for Patient/B's compartment, this would previously have been allowed even if the user did not have access to write to Patient/A's compartment. Thanks to Eeva Turkka for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/667&quot;&gt;667&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;IServerOperationInterceptor now has a new method &lt;code&gt;resourceUpdated(RequestDetails, IBaseResource, IBaseResource)&lt;/code&gt; which replaces the previous &lt;code&gt;resourceUpdated(RequestDetails, IBaseResource)&lt;/code&gt;. This allows interceptors to be notified of resource updates, but also see what the resource looked like before the update. This change was made to support the change above, but seems like a useful feature all around.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Allow DateParam (used in servers) to handle values with MINUTE precision. Thanks to Christian Ohr for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/604&quot;&gt;604&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix HTTP 500 error in JPA server if a numeric search parameter was supplied with no value, e.g. &lt;code&gt;GET /Observation?value-quantity=&lt;/code&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server transaction processing now honours the Prefer header and includes created and updated resource bodies in the response bundle if it is set appropriately.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Optimize queries in JPA server remove a few redundant select columns when performing searches. This provides a slight speed increase in some cases.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add configuration to JPA server DaoConfig that allows a maximum number of search results to be specified. Queries will never return more than this number, which can be good for avoiding accidental performance problems in situations where large queries should not be needed&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent duplicates in $everything query response in JPA server. Thanks to @vlad-ignatov for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/674&quot;&gt;674&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in calling JPA server transactions programmatically where resources are linked by object reference and not by ID where indexes were not correctly generated. This should not affect most users.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in SubscriptionInterceptor that caused interceptor to only actually notify listeners of the first 10 subscriptions. Thanks to Jeff Chung for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/678&quot;&gt;678&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix potential ConcurrentModificationException when adding subscriptions while running under heavy load. Thanks to Jeff Chung for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/693&quot;&gt;693&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA search now uses hibernate ScrollableResults instead of plain JPA List. This should improve performance over large search results.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA servers with no paging provider configured, or with a paging provider other than DatabaseBackedPagingProvider will load all results in a single pass and keep them in memory. Using this setup is not a good idea unless you know for sure that you will never have very large queries since it means that all results will be loaded into memory, but there are valid reasons to need this and it will perform better than paging to the database in that case. This fix also resolves a NullPointerException when performing an $everything search. Thanks to Kamal Othman for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct an issue in JPA server on Postgres where searches with a long search URL were not able to be automatically purged from the database after they were scheduled for deletion. Thanks to Ravi Kuchi for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add an optional and configurable hard limit on the total number of meta items (tags, profiles, and security labels) on an individual resource. The default is 1000.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When executing a search (HTTP GET) as a nested operation in in a transaction or batch operation, the search now returns a normal page of results with a link to the next page, like any other search would. Previously the search would return a small number of results with no paging performed, so this change brings transaction and batch processing in line with other types of search.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server no longer returns an OperationOutcome resource as the first resource in the Bundle for a response to a batch operation. This behaviour was previously present, but was not specified in the FHIR specification so it caused confusion and was inconsistent with behaviour in other servers.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a regression in HAPI FHIR 2.5 JPA server where executing a search in a transaction or batch operation caused an exception. Thanks to Ravi Kuchi for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct an issue when processing transactions in JPA server where updates and creates to resources with tags caused the tags to be created twice in the database. These duplicates were utomatically filtered upon read so this issue was not user-visible, but it coule occasionally lead to performance issues if a resource containing multiple tags was updated many times via transactions.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server should not allow creation of resources that have a reference to a resource ID that previously existed but is now deleted. Thanks to Artem Sopin for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JpaConformanceProvider now has a configuration setting to enable and disable adding resource counts to the server metadata.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Avoid a deadlock in JPA server when the RequestValidatingInterceptor is being used and a large number of resources are being created by clients at the same time.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Testpage Overlay's transaction method did not work if the response Bundle contained any entries that did not contain a resource (which is often the case in more recent versions of HAPI). Thanks to Sujay R for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When the server was returning a multi-page search result where the client did not explicitly request an encoding via the _format parameter, a _format parameter was incorrectly added to the paging links in the response Bundle. This would often explicitly request XML encoding because of the browser Accept header even though this was not what the client wanted.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Enhancement to ResponseHighlighterInterceptor where links in the resource body are now converted to actual clickable hyperlinks. Thanks to Eugene Lubarsky for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/651&quot;&gt;651&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;BanUnsupportedHttpMethodsInterceptor has been modified so that it now allows HTTP PATCH to proceed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Enhancement to ResponseHighlighterInterceptor so that it now can be configured to display the request headers and response headers, and individual lines may be highlighted. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/651&quot;&gt;651&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor did not permit PATCH operations to proceed even if the user had write access for the resource being patched.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an issue in HapiWorkerContext where structure definitions are not able to be retrieved if they are referred to by their relative or logical ID. This affects profile tooling such as StructureMapUtilities. Thanks to Travis Lukach for reporting and providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/682&quot;&gt;682&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add link to DSTU3 JavaDocs from documentation index. Thanks to Vadim Peretokin for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/679&quot;&gt;679&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a typo in the documentation. Thanks to Saren Currie for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/680&quot;&gt;680&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a command line flag to the CLI tool to allow configuration of the server search result cache timeout period. Thanks to Eugene Lubarsky for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/689&quot;&gt;689&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct an issue with the model classes for STU3 where any classes containing the @ChildOrder annotation (basically the conformance resources) will not correctly set the order if any of the elements are a choice type (i.e. named &quot;foo[x]&quot;). Thanks to GitHub user @CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/683&quot;&gt;683&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix potential deadlock in stale search deleting task in JPA server, as well as potential deadlock when executing transactions containing nested searches when operating under extremely heavy load.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server transaction operations now put OperationOutcome resources resulting from actions in &lt;code&gt;Bundle.entry.response.outcome&lt;/code&gt; instead of the previous &lt;code&gt;Bundle.entry.resource&lt;/code&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;An issue was corrected where search parameters containing negative numbers were sometimes treated as positive numbers when processing the search. Thanks to Keith Boone for reporting and suggesting a fix!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/696&quot;&gt;696&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an unfortunate typo in the custom structures documentation. Thanks to Jason Owen for the PR!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/699&quot;&gt;699&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct an issue in the validator (DSTU3/R4) where elements were not always correctly validated if the element contained only a profiled extension. Thanks to S&Atilde;&copy;bastien Rivi&Atilde;&uml;re for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/686&quot;&gt;686&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Testing UI now has a dropdown for modifiers on token search. Thanks to GitHub user @dconlan for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/701&quot;&gt;701&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing an incomplete ID with the form &lt;code&gt;http://my.org/Foo&lt;/code&gt; into IdDt and IdType objects, the Foo portion will now be treated as the resource type. Previously my.org was treated as the resource type and Foo was treated as the ID. Thanks to GitHub user @CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/688&quot;&gt;688&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Extensions on ID datatypes were not parsed or serialized correctly. Thanks to Stephen Rivi&Atilde;&uml;re for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/695&quot;&gt;695&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a bug in REST Hook Subscription interceptors which prevented subscriptions from being activated. Thanks to Jeff Chung for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/710&quot;&gt;710&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix broken links in usage pattern diagram on website. Thanks to Pascal Brandt for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/708&quot;&gt;708&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix incorrect FHIR Version Strings that were being outputted and verified in the client for some versions of FHIR. Thanks to Clayton Bodendein for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/706&quot;&gt;706&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new constructor to SimpleRequestHeaderInterceptor which allows a complete header to be passed in (including name and value in one string)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST Hook subscriptions now honour the Subscription.channel.header field&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU2 validator has been enhanced to do a better job handling ValueSets with expansions pointing to other ValueSets&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST HOOK subscriptions now use HTTP PUT if there is a payload type specified, regardless of whether the source event was a create or an update&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add appropriate import statements for logging to JPA demo code. Thanks to Rob Hausam for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/712&quot;&gt;712&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add some browser performance logging to ResponseHighlightingInterceptor. Thanks to Eugene Lubarsky for the pull request, and for convincing James not to optimize something that did not need optimizing!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/700&quot;&gt;700&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new config property has been added to the JPA seerver DaoConfig called &quot;setAutoCreatePlaceholderReferenceTargets&quot;. This property causes references to unknown resources in created/updated resources to have a placeholder target resource automatically created.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The server LoggingInterceptor has had a variable called &lt;code&gt;processingTimeMillis&lt;/code&gt; which logs the number of milliseconds the server took to process a given request since HAPI FHIR 2.5, but this was not documented. This variable has now been documented as a part of the available features.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new experimental feature has been added to the JPA server which allows you to define certain search parameter combinations as being resource keys, so that a database constraint will prevent more than one resource from having a matching pair&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When using the client LoggingInterceptor in non-verbose mode, the log line showing the server's response HTTP status will now also include the returned &lt;code&gt;Location&lt;/code&gt; header value as well&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new flag has been add to the CLI upload-definitions command &quot;-e&quot; which allows skipping particular resources&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;An issue in JPA server has been corrected where if a CodeSystem resource was deleted, it was not possible to create a new resource with the same URI as the previous one&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When uploading a Bundle resource to the server (as a collection or document, not as a transaction) the ID was incorrectly stripped from resources being saved within the Bundle. This has been corrected.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Subscriptions in JPA server now support &quot;email&quot; delivery type through the use of a new interceptor which handles that type&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server can now be configured to not support &lt;code&gt;:missing&lt;/code&gt; modifiers, which increases write performance since fewer indexes are written&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new JPA configuration option has been added to the DaoConfig which allows support for the &lt;code&gt;:missing&lt;/code&gt; search parameter modifier to be enabled or disabled, and sets the default to DISABLED. &lt;br/&gt;&lt;br/&gt; Support for this parameter causes many more index rows to be inserted in the database, which has a significant impact on write performance. A future HAPI update may allow these rows to be written asynchronously in order to improve this.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a2.5&quot;&gt;Release 2.5 &amp;#x2013; 2017-06-08&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;a&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;This release includes significant performance enhancements for the JPA server. Most importantly, the way that searches are performed has been re-written to allow the server to perform better when the database has a large number of results in it. The following enhancements have been made: &lt;br/&gt;&lt;br/&gt; &lt;ul&gt; &lt;li&gt; Searches with multiple search parameters of different datatypes (e.g. find patients by name and date of birth) were previously joined in Java code, now the join is performed by the database which is faster &lt;/li&gt; &lt;li&gt; Searches which returned lots of results previously has all results streamed into memory before anything was returned to the client. This is particularly slow if you do a search for (say) &quot;get me all patients&quot; since potentially thousands or even millions of patients' IDs were loaded into memory before anything gets returned to the client. HAPI FHIR now has a multithreaded search coordinator which returns results to the client as soon as they are available &lt;/li&gt; &lt;li&gt; Search results will be cached and reused (so that if a client does two searches for &quot;get me all patients matching FOO&quot; with the same FOO in short succession, we won't query the DB again but will instead reuse the cached results). Note that this can improve performance, but does mean that searches can return slightly out of date results. Essentially what this means is that the latest version of individual resources will always be returned despite this cacheing, but newly created resources that should match may not be returned until the cache expires. By default this cache has been set to one minute, which should be acceptable for most real-world usage, but this can be changed or disabled entirely. &lt;/li&gt; &lt;li&gt; Updates which do not actually change the contents of the resource can optionally be prevented from creating a new version of the resource in the database &lt;/li&gt; &lt;/ul&gt; &lt;br/&gt;&lt;br/&gt; Existing users should delete the &lt;code&gt;HFJ_SEARCH&lt;/code&gt;, &lt;code&gt;HFJ_SEARCH_INCLUDE&lt;/code&gt;, and &lt;code&gt;HFJ_SEARCH_RESULT&lt;/code&gt; tables from your database before upgrading, as the structure of these tables has changed and old search results can not be reused.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor did not correctly handle paging requests (e.g. requests for the second page of results for a search operation). Thanks to Eeva Turkka for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/590&quot;&gt;590&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add configuration property to DSTU3 FhirInstanceValidator to allow client code to change unknown extension handling behaviour.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix concurrency issues in FhirContext that were causing issues when starting a context up on Android. Thanks to GitHub issue @Jaypeg85 for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/630&quot;&gt;630&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an issue in the JPA server if a resource has been previously saved containing vocabulary that is no longer valid. This only really happened if you were using a non-final version of FHIR (e.g. using DSTU3 before it was finalized) but if you were in this situation, upgrading HAPI could cause you to have old codes that no longer exist in your database. This fix prevents these from blocking you from accesing those resources.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;CLI now defaults to DSTU3 mode if no FHIR version is specified&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server and annotation-client @History annotation now allows DSTU3+ resource types in the type= property&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON Parser gave a very unhelpful error message (Unknown attribute 'value' found during parse) when a scalar value was found in a spot where an object is expected. This has been corrected to include much more information. Thanks to GitHub user @jasminas for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/563&quot;&gt;563&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DaoConfig#setInterceptors() has been un-deprecated. It was previously deprecated as we thought it was not useful, but uses have been identified so it turns out this method will live after all. Interceptors registered to this method will now be treated appropriately if they implement IServerOperationInterceptor too.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not correctly support searching on a custom search parameter whose path pointed to an extension, where the client used a chained value.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue where the JSON parser sometimes did not encode DSTU3 extensions on the root of a resource which have a value of type reference.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now respects the If-Modified-Since header and will return an HTTP 304 if appropriate for read operations.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not correctly process :missing qualifier on date parameters&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AppacheHttpClient did not always respect the charset in the response Content-Type header. Thanks to Gijsbert van den Brink for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/633&quot;&gt;633&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix XhtmlParser to correctly handle hexadecimal escaped literals. Thanks to Gijsbert van den Brink for the Pull Request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/636&quot;&gt;636&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now has configurable properties that allow referential integrity to be disabled for both writes and deletes. This is useful in some cases where data integrity is not wanted or not possible. It can also be useful if you want to delete large amounts of interconnected data quickly. &lt;br/&gt;&lt;br/&gt; A corresponding flag has been added to the CLI tool as well.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not correctly support searching on a custom search parameter whose path pointed to an extension, where the client used a chained value.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix dependency on commons-codec 1.4 in hapi-fhir-structures-dstu3, which was preventing this library from being used on Android because Android includes an older version of commons-codec.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server failed to index search parameters on paths containing a decimal data type&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Validator incorrectly rejected references where only an identifier was populated&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Make error handler in the client more tolerant of errors where no response has been received by the client when the error happens. Thanks to GitHub user maclema for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/649&quot;&gt;649&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a check in JPA server that prevents completely blank tags, profiles, and security labels from being saved to the database. These were filtered out anyhow when the result was returned back to the client but they were persisted which just wasted space.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Loading the build-in profile structures (StructureDefinition, ValueSet, etc) is now done in a synchronized block in order to prevent multiple loads happening if the server processes multiple validations in parallel threads right after startup. Previously a heavy load could cause the server to run out of memory and lock up. Thanks to Karl M Davis for analysis and help fixing this!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/664&quot;&gt;664&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix bad ValueSet URL in DeviceRequest profile definition for STU3 which was preventing the CLI from uploading definitions correctly. Thanks to Joel Schneider for the Pull Request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/652&quot;&gt;652&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Improve handling in JPA server when doing code:above and code:below searches to use a disjunction of AND and IN in order to avoid failures under certain conditions. Thanks to Michael Lawley for the pul request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/656&quot;&gt;656&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an error where the JPA server sometimes failed occasional requests with a weird NullPointerException when running under very large concurrent loads. Thanks to Karl M. Davis for reporting, investigating, and ultimately finding a solution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/660&quot;&gt;660&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a2.4&quot;&gt;Release 2.4 &amp;#x2013; 2017-04-19&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;This release brings the DSTU3 structures up to FHIR R3 (FHIR 3.0.1) definitions. Note that there are very few changes between the DSTU3 structures in HAPI FHIR 2.3 and the ones in HAPI FHIR 2.4 since the basis for the DSTU3 structures in HAPI FHIR 2.3 was the R3 QA FHIR version (1.9.0) but this is the first release of HAPI FHIR to support the final/complete R3 release.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Hibernate (JPA): 5.2.7 -&amp;gt; 5.2.9&lt;/li&gt; &lt;li&gt;Hibernate Search (JPA): 5.5.7.CR1 -&amp;gt; 5.2.7.Final&lt;/li&gt; &lt;li&gt;Hibernate Validator (JPA): 5.3.4 -&amp;gt; 5.4.1&lt;/li&gt; &lt;li&gt;Spring (JPA): 4.3.6 -&amp;gt; 4.3.7&lt;/li&gt; &lt;li&gt;Gson (Core): 2.7 -&amp;gt; 2.8.0&lt;/li&gt; &lt;li&gt;Guava (JPA): 19.0 -&amp;gt; 21.0&lt;/li&gt; &lt;li&gt;SLF4j (Core): 1.7.21 -&amp;gt; 1.7.25&lt;/li&gt; &lt;li&gt;Logback (Core): 1.1.7 -&amp;gt; 1.2.2&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;hapi-fhir-jpaserver-example now includes the &lt;code&gt;Prefer&lt;/code&gt; header in the list of CORS headers. Thanks to GitHub user @elnin0815 for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/602&quot;&gt;602&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor can now allow make read or write authorization decisions on a resource by instance ID&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove SupportingDocumentation resource from DSTU2 structures. This isn't actually a resource in FHIR DSTU2 and its inclusion causes errors on clients that don't understand what it is. Thanks to Travis Cummings and Michele Mottini for pointing this out. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/208&quot;&gt;208&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Web testing UI displayed an error when a transaction was pasted into the UI for a DSTU2 server. Thanks to Suresh Kumar for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/607&quot;&gt;607&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DaoConfig#setAllowInlineMatchUrlReferences() now defaults to &lt;code&gt;true&lt;/code&gt; since inline conditional references are now a part of the FHIR specification. Thanks to Jan D&Auml;dek for pointing this out!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;hapi-fhir-jpaserver-base now exposes a &lt;code&gt;FhirInstanceValidator&lt;/code&gt; bean named &lt;code&gt;&quot;myInstanceValidatorDstu2&quot;&lt;/code&gt; for DSTU2. A similar bean for DSTU3 was previously implemented. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/609&quot;&gt;609&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;hapi-fhir-jpaserver-example project now defaults to STU3 mode instead of the previous DSTU2. Thanks to Joel Schneider for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/453&quot;&gt;453&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now has a setting on the DaoConfig to force it to treat certain reference URLs or reference URL patterns as logical URLs instead of literal ones, meaning that the server will not try to resolve these URLs. Thanks to Eeva Turkka for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/534&quot;&gt;534&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a utility method to JPA server: &lt;code&gt;IFhirResourceDao#removeTag(IIdType, TagTypeEnum, String, String)&lt;/code&gt;. This allows client code to remove tags from a resource without having a servlet request object in context.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server was unable to process custom search parameters where the path pointed to an extension containing a reference. Thanks to Ravi Kuchi for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Servers in DSTU2.1 mode were incorrectly using the legacy mimetypes instead of the new STU3 ones. Thanks to Michael Lawley for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/623&quot;&gt;623&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add an option to ParserOptions that specifies that when parsing a bundle, the ID found in the Bundle.entry.fullUrl should not override the ID found in the Resource.id field. Technically these fields must always supply the same ID in order for a server to be considered conformant, but this option allows you to deal with servers which are behaving badly. Thanks to GitHub user CarthageKing for the pul request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/624&quot;&gt;624&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove unneccesary whitespace in the text areas on the testing web UI. Thanks to GitHub user @elnin0815 for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/617&quot;&gt;617&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;In JAX-RS server it is now possible to change the server exception handler at runtime without a server restart. Thanks to Sebastien Riviere for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/613&quot;&gt;613&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a potential race condition when the FhirContext is being accessed by many threads at the same time right as it is initializing. Thanks to Ben Spencer for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/610&quot;&gt;610&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a2.3&quot;&gt;Release 2.3 &amp;#x2013; 2017-03-18&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Hibernate (JPA): 5.1.0 -&amp;gt; 5.2.7&lt;/li&gt; &lt;li&gt;Hibernate Search (JPA): 5.5.4 -&amp;gtp; 5.7.0.CR1&lt;/li&gt; &lt;li&gt;Hibernate Validator (JPA): 5.2.4 -&amp;gtp; 5.3.4&lt;/li&gt; &lt;li&gt;Spring (JPA): 4.3.1 -&amp;gt; 4.3.6&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The JPA server now supports custom search parameters in DSTU3 mode. This allows users to create search parameters which contain custom paths, or even override and disable existing search parameters.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;CLI example uploader couldn't find STU3 examples after CI server was moved to build.fhir.org&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in JPA subscription module that prevented purging stale subscriptions when many were present on Postgres&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server interceptor methods were being called twice unnecessarily by the JPA server, and the DaoConfig interceptor registration framework was not actually useful. Thanks to GitHub user @mattiuusitalo for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/532&quot;&gt;532&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor on JPA server did not correctly apply rules on deleting resources in a specific compartment because the resource metadata was stripped by the JPA server before the interceptor could see it. Thanks to Eeva Turkka for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/503&quot;&gt;503&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server exported CapabilityStatement includes double entries for the _id parameter and uses the wrong type (string instead of token). Thanks to Robert Lichtenberger for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/519&quot;&gt;519&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Custom resource types which extend Binary must not have declared extensions since this is invalid in FHIR (and HAPI would just ignore them anyhow). Thanks to Thomas S Berg for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/504&quot;&gt;504&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Standard HAPI zip/tar distributions did not include the project sources and JavaDoc JARs. Thanks to Keith Boone for pointing this out!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server AuthorizationInterceptor always rejects history operation at the type level even if rules should allow it.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server terminology service was not correctly validating or expanding codes in SNOMED CT or LOINC code systems. Thanks to David Hay for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Attempting to search for an invalid resource type (e.g. GET base/FooResource) should return an HTTP 404 and not a 400, per the HTTP spec. Thanks to GitHub user @CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/539&quot;&gt;539&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing a Bundle containing placeholder fullUrls and references (e.g. &quot;urn:uuid:0000-0000&quot;) the resource reference targets did not get populated with the given resources. Note that as a part of this change, &lt;code&gt;IdType&lt;/code&gt; and &lt;code&gt;IdDt&lt;/code&gt; have been modified so that when parsing a placeholder ID, the complete placeholder including the &quot;urn:uuid:&quot; or &quot;urn:oid:&quot; prefix will be placed into the ID part. Previously, the prefix was treated as the base URL, which led to strange behaviour like the placeholder being treated as a real IDs. Thanks to GitHub user @jodue for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/544&quot;&gt;544&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Declared extensions with multiple type() options listed in the @Child annotation caused a crash on startup. Now this is supported.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 XHTML parser for narrative choked if the narrative contained an &lt;code&gt;&amp;amp;rsquot;&lt;/code&gt; entity string.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing a quantity parameter on the server with a value and units but no system (e.g. &lt;code&gt;GET [base]/Observation?value=5.4||mg&lt;/code&gt;) the unit was incorrectly treated as the system. Thanks to @CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/538&quot;&gt;538&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;&quot; alt=&quot;&quot; title=&quot;&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct a typo in the JPA ValueSet ResourceProvider which prevented successful operation under Spring 4.3. Thanks to Robbert van Waveren for the pull request!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;Deprecate the method &lt;code&gt;ICompositeElement#getAllPopulatedChildElementsOfType(Class)&lt;/code&gt; as it is no longer used by HAPI and is just an annoying step in creating custom structures. Thanks to Allan Bro Hansen for pointing this out.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;CapturingInterceptor did not buffer the response meaning that in many circumstances it did not actually capture the response. Thanks to Jenny Syed of Cerner for the pull request and contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/547&quot;&gt;547&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Clean up dependencies and remove Eclipse project files from git. Thanks to @sekaijin for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/548&quot;&gt;548&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When performing a conditional create in a transaction in JPA server, if a resource already existed matching the conditional expression, the server did not change the version of the resource but did update the body with the passed in body. Thanks to Artem Sopin for reporting and providing a test case for this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client revincludes did not include the :recurse modifier. Thanks to Jenny Meinsma for pointing this out on Zulip!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not return an OperationOutcome in the response for a normal delete operation.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an issue in JPA server where _history results were kept in memory instead of being spooled to the database as they should be. Note that as a part of this fix a new method was added to &lt;code&gt;IBundleProvider&lt;/code&gt; called &lt;code&gt;getUuid()&lt;/code&gt;. This method may return &lt;code&gt;null&lt;/code&gt; in any current cases.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Expanding a ValueSet in JPA server did not correctly apply &lt;code&gt;?filter=&lt;/code&gt; parameter when the ValueSet being expanded had codes included explicitly (i.e. not by is-a relationship). Thanks to David Hay for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA validator incorrectly returned an HTTP 400 instead of an HTTP 422 when the resource ID was not present and required, or vice versa. Thanks to Brian Postlethwaite for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When using an annotation based client, a ClassCastException would occur under certain circumstances when the response contained contained resources&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server interceptor methods for create/update/delete provided the wrong version ID to the interceptors&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A post-processing hook for subclasses of BaseValidatingInterceptor is now available.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor can now authorize (allow/deny) extended operations on instances and types by wildcard (on any type, or on any instance). Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/585&quot;&gt;585&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When RequestValidatingInterceptor is used, the validation results are now populated into the OperationOutcome produced by create and update operations. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/595&quot;&gt;595&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for the $process-message operation to fluent client. Thanks to Hugo Soares for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/542&quot;&gt;542&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parser can now be configured when encoding to use a specific base URL for extensions. Thanks to Sebastien Riviere for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/543&quot;&gt;543&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct the resource paths for the DSTU2.1 validation resources, allowing the validator to correctly work against those structures. Thanks to Michael Lawley for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/568&quot;&gt;568&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;XML Parser failed to parse large field values (greater than 512 Kb) on certain platforms where the StAX parser was overridden. Thanks to GitHub user @Jodue for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/551&quot;&gt;551&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove an unneccesary database flush when saving large code systems to the JPA database, improving performance of this operation. Thanks to Joel Schneider for the pull request and analysis!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/575&quot;&gt;575&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new post-processing hook for subclasses of BaseValidatingInterceptor is now available. The hook exposes the request details on validation failure prior to throwing an UnprocessableEntityException.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a2.2&quot;&gt;Release 2.2 &amp;#x2013; 2016-12-20&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;!--&lt;li&gt;spring (JPA): 4.3.1 -&amp;gt; 4.3.4&lt;/li&gt;--&gt; &lt;li&gt;Derby (CLI): 10.12.1.1 -&amp;gt; 10.13.1.1&lt;/li&gt; &lt;li&gt;Jetty (CLI): 9.3.10.v20160621 -&amp;gt; 9.3.14.v20161028&lt;/li&gt; &lt;li&gt;JAnsi (CLI): 1.13 -&amp;gt; 1.14&lt;/li&gt; &lt;li&gt;Phloc Commons (SCH Validator): 4.4.5 -&amp;gt; 4.4.6&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in AuthorizationIntetceptor where transactions are blocked even when they should not be&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix regression in HAPI FHIR 2.1 JPA server where some search parameters on metadata resources did not appear (e.g. &quot;StructureDefinition.url&quot;). Thanks to David Hay for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add ability to JPA server for disabling stale search expiry. This is useful if you are deploying the server to a cluster.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;RestfulServer with no explicitly set FhirContext fails to detect the presents of DSTU3 structures. Thanks to GitHub user @vijayt27 for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/495&quot;&gt;495&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;As the &lt;a href=&quot;https://github.com/eBay/cors-filter&quot;&gt;eBay CORS interceptor&lt;/a&gt; project has gone dormant, we have introduced a new HAPI server interceptor which can be used to implement CORS support instead of using the previously recommended Servlet Filter. All server examples as well as the CLI have been switched to use this new interceptor. See the &lt;a href=&quot;./doc_cors.html&quot;&gt;CORS Documentation&lt;/a&gt; for more information.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Make the parser configurable so that when parsing an invalid empty value (e.g. &lt;code&gt;{&quot;status&quot;:&quot;&quot;}&lt;/code&gt;) the parser will either throw a meaningful exception or log a warning depending on the configured error handler. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/480&quot;&gt;480&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue when serializing resources that have contained resources which are referred to from multiple places. Sometimes when serializing these resources the contained resource section would contain duplicates. Thanks to Hugo Soares and Stefan Evinance for reporting and providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/276&quot;&gt;276&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Allow client to gracefully handle running in DSTU3 mode but with a structures JAR that does not contain a CapabilityStatement resource. Thanks to Michael Lawley for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/518&quot;&gt;518&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a crash in JPA server when searching using an _include if _include targets are external references (and therefore can't be loaded by the server). Thanks to Hannes Ulrich for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI FHIR CLI failed to delete a file when uploading example resources while running under Windows.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server should reject update if the resource body does not contain an ID, or the ID does not match the request URL. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/521&quot;&gt;521&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Web Testing UI's next and previous buttons for paging through paged results did not work after the migration to using Thymeleaf 3. Thanks to GitHub user @gsureshkumar for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/500&quot;&gt;500&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing invalid enum values in STU3, report errors through the parserErrorHandler, not by throwing an exception. Thanks to Michael Lawley for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/525&quot;&gt;525&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing DSTU3 resources with enumerated types that contain invalid values, the parser will now invoke the parserErrorHandler. For example, when parsing &lt;code&gt;{&quot;resourceType&quot;:&quot;Patient&quot;, &quot;gender&quot;:&quot;foo&quot;}&lt;/code&gt; the previous behaviour was to throw an InvalidArgumentException. Now, the parserErrorHandler is invoked. In addition, thw LenientErrorHandler has been modified so that this one case will result in a DataFormatException. This has the effect that servers which receive an invalid enum velue will return an HTTP 400 instead of an HTTP 500. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/516&quot;&gt;516&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU3 context now pulls the FHIR version from the actual model classes. Thanks to Michael Lawley for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/520&quot;&gt;520&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Enhancements to the tinder-plugin's generic template features of the &lt;i&gt;generate-multi-files&lt;/i&gt; and &lt;i&gt;generate-single-file&lt;/i&gt; Maven goals as well as the Ant &lt;i&gt;hapi-tinder&lt;/i&gt; task. &lt;ul&gt; &lt;li&gt;Provides the full Tinder data model by adding composites, valuesets, and profiles to resourcesw.&lt;/li&gt; &lt;li&gt;Supports generating files for resources, composites, valuesets, and profiles&lt;/li&gt; &lt;li&gt;Supports Velocimacro files outside the tinder-plugin JAR&lt;/li&gt; &lt;li&gt;Provides filename prefix as well as suffix properties&lt;/li&gt; &lt;li&gt;Can specify any of the Velocity configuration parameters such as &lt;i&gt;macro.provide.scope.control&lt;/i&gt; which allows safe macro recursion&lt;/li&gt; &lt;li&gt;Templates can now drill down into the referenced children for a ResourceBlockCopy&lt;/li&gt; &lt;li&gt;Normalization of properties across all three generic tasks&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix ordering of validator property handling when an element has a name that is similar to a shorter name[x] style name. Thanks to CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/523&quot;&gt;523&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a docker configuration to the hapi-fhir-jpaservr-example module. Thanks to Gijsbert van den Brink for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/510&quot;&gt;510&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add utility constructors to MoneyDt. Thanks to James Ren for the contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/507&quot;&gt;507&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor was failing to allow read requests to pass when a rule authorized those resources by compartment. Thanks to GitHub user @mattiuusitalo for reporting and supplying a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/528&quot;&gt;528&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct a typo in client &lt;code&gt;IHttpRequest&lt;/code&gt; class: &quot;bufferEntitity&quot; should be &quot;bufferEntity&quot;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;ErrorHandler is now called (resulting in a warning by default, but can also be an exception) when arsing JSON if the resource ID is not a JSON string, or an object is found where an array is expected (e.g. repeating field). Thanks to Jenni Syed of Cerner for providing a test case!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix Web Testing UI to be able to handle STU3 servers which return CapabilityStatement instead of the previously used &quot;Conformance&quot; resource&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;CLI example uploader couldn't find STU3 examples after CI server was moved to build.fhir.org&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in JPA subscription module that prevented purging stale subscriptions when many were present on Postgres&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server interceptor methods were being called twice unnecessarily by the JPA server, and the DaoConfig interceptor registration framework was not actually useful. Thanks to GitHub user @mattiuusitalo for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/532&quot;&gt;532&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor on JPA server did not correctly apply rules on deleting resources in a specific compartment because the resource metadata was stripped by the JPA server before the interceptor could see it. Thanks to Eeva Turkka for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/503&quot;&gt;503&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server exported CapabilityStatement includes double entries for the _id parameter and uses the wrong type (string instead of token). Thanks to Robert Lichtenberger for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/519&quot;&gt;519&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Custom resource types which extend Binary must not have declared extensions since this is invalid in FHIR (and HAPI would just ignore them anyhow). Thanks to Thomas S Berg for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/504&quot;&gt;504&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Standard HAPI zip/tar distributions did not include the project sources and JavaDoc JARs. Thanks to Keith Boone for pointing this out!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server AuthorizationInterceptor always rejects history operation at the type level even if rules should allow it.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server terminology service was not correctly validating or expanding codes in SNOMED CT or LOINC code systems. Thanks to David Hay for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Attempting to search for an invalid resource type (e.g. GET base/FooResource) should return an HTTP 404 and not a 400, per the HTTP spec. Thanks to GitHub user @CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/539&quot;&gt;539&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing a Bundle containing placeholder fullUrls and references (e.g. &quot;urn:uuid:0000-0000&quot;) the resource reference targets did not get populated with the given resources. Note that as a part of this change, &lt;code&gt;IdType&lt;/code&gt; and &lt;code&gt;IdDt&lt;/code&gt; have been modified so that when parsing a placeholder ID, the complete placeholder including the &quot;urn:uuid:&quot; or &quot;urn:oid:&quot; prefix will be placed into the ID part. Previously, the prefix was treated as the base URL, which led to strange behaviour like the placeholder being treated as a real IDs. Thanks to GitHub user @jodue for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/544&quot;&gt;544&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Declared extensions with multiple type() options listed in the @Child annotation caused a crash on startup. Now this is supported.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 XHTML parser for narrative choked if the narrative contained an &lt;code&gt;&amp;amp;rsquot;&lt;/code&gt; entity string.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing a quantity parameter on the server with a value and units but no system (e.g. &lt;code&gt;GET [base]/Observation?value=5.4||mg&lt;/code&gt;) the unit was incorrectly treated as the system. Thanks to @CarthageKing for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/538&quot;&gt;538&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;&quot; alt=&quot;&quot; title=&quot;&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct a typo in the JPA ValueSet ResourceProvider which prevented successful operation under Spring 4.3. Thanks to Robbert van Waveren for the pull request!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;Deprecate the method &lt;code&gt;ICompositeElement#getAllPopulatedChildElementsOfType(Class)&lt;/code&gt; as it is no longer used by HAPI and is just an annoying step in creating custom structures. Thanks to Allan Bro Hansen for pointing this out.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;CapturingInterceptor did not buffer the response meaning that in many circumstances it did not actually capture the response. Thanks to Jenny Syed of Cerner for the pull request and contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/547&quot;&gt;547&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a2.1&quot;&gt;Release 2.1 &amp;#x2013; 2016-11-11&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 structure definitions have been updated to the STU3 latest definitions (1.7.0 - SVN 10129). In particular, this version supports the new CapabilityStatement resource which replaces the previous Conformance resource (in order to reduce upgrade pain, both resource types are included in this version of HAPI)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;spring-data-orm (JPA): 1.10.2 -&amp;gt; 1.10.4&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a fairly significant issue in JPA Server when using the &lt;code&gt;DatabaseBackedPagingProvider&lt;/code&gt;: When paging over the results of a search / $everything operation, under certain circumstances resources may be missing from the last page of results that is returned. Thanks to David Hay for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client, Server, and JPA server now support experimental support for HTTP PATCH using the XML Patch and JSON Patch syntax as explored during the September 2016 Baltimore Connectathon. See &lt;a href=&quot;http://wiki.hl7.org/index.php?title=201609_PATCH_Connectathon_Track_Proposal&quot;&gt;this wiki page&lt;/a&gt; for a description of the syntax. &lt;br/&gt; Thanks to Pater Girard for all of his help during the connectathon in implementing this feature!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Android library now uses OkHttp client by default instead of Apache HttpClient. This should lead to much simpler support for Android in the future.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Both client and server now use the new STU3 mime types by default if running in STU3 mode (in other words, using an STU3 FhirContext).&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In server, when returning a list of resources, the server sometimes failed to add &lt;code&gt;_include&lt;/code&gt; resources to the response bundle if they were referred to by a contained reosurce. Thanks to Neal Acharya for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix regression in web testing UI where &quot;prev&quot; and &quot;next&quot; buttons don't work when showing a result bundle&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server should not attempt to resolve built-in FHIR StructureDefinitions from the database (this causes a significant performance hit when validating)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;BanUnsupportedHttpMethodsInterceptor was erroring out when a client attempts HTTP HEAD requests&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Conditional URLs in JPA server (e.g. for delete or update) did not support the &lt;code&gt;_has&lt;/code&gt; parameter&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove Maven dependency on Saxon library, as it is not actually used. Thanks to Lem Edmondson for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/440&quot;&gt;440&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Times before 1970 with fractional milliseconds were parsed incorrectly. Thanks to GitHub user @CarthageKing for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/444&quot;&gt;444&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent crash in parser when parsing resource with multiple profile declarations when default type for profile is used. Thanks to Filip Domazet for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/448&quot;&gt;448&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 servers were adding the old MimeType strings to the &lt;code&gt;Conformance.format&lt;/code&gt; part of the generated server conformance statement. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/445&quot;&gt;445&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When performing an update using the client on a resource that contains other resources (e.g. Bundle update), all child resources in the parent bundle were incorrectly given the ID of the parent. Thanks to Filip Domazet for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/446&quot;&gt;446&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU clients now use an Accept header which indicates support for both the old MimeTypes (e.g. &lt;code&gt;application/xml+fhir&lt;/code&gt;) and the new MimeTypes (e.g. &lt;code&gt;application/fhir+xml&lt;/code&gt;)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now sends correct &lt;code&gt;HTTP 409 Version Conflict&lt;/code&gt; when a DELETE fails because of constraint issues, instead of &lt;code&gt;HTTP 400 Invalid Request&lt;/code&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server history operation did not populate the Bundle.entry.request.url field, which is required in order for the bundle to pass validation. Thanks to Richard Ettema for spotting this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new method to the server interceptor framework which will be called after all other processing is complete (useful for performance tracking). The server LoggingInterceptor has been switched to using this method which means that log lines will be created when processing is finished, instead of when it started.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 clients were not sending the new mimetype values in the &lt;code&gt;Content-Type&lt;/code&gt; header. Thanks to Claude Nanjo for pointing this out!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JAX-RS server was not able to handle the new mime types defined in STU3&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not handle custom types when being called programatically (I.e. not through HTTP interface). Thanks to Anthony Mei for pointing this out!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;CLI was not correctly able to upload DSTU2 examples to any server&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 validator has been upgrated to include fixes made since the 1.6.0 ballot&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent JPA server from creating a bunch of FhirContext objects for versions of FHIR that aren't actually being used&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;XhtmlNode.equalsDeep() contained a bug which caused resources containing a narrative to always return &lt;code&gt;false&lt;/code&gt; for STU3 &lt;code&gt;Resource#equalsDeep()&lt;/code&gt;. Thanks to GitHub user @XcrigX for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/443&quot;&gt;443&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not correctly process searches for chained parameters where the chain passed across a field that was a choice between a reference and a non-reference type (e.g. &lt;code&gt;MedicationAdministration.medication[x]&lt;/code&gt;. Thanks to GitHub user @Crudelus for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/441&quot;&gt;441&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Handle parsing an extension without a URL more gracefully. In HAPI FHIR 2.0 this caused a NullPointerException to be thrown. Now it will trigger a warning, or throw a DataFormatException if the StrictErrorHandler is configured on the parser. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/414&quot;&gt;414&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Calling a HAPI server URL with a chain on a parameter that shouldn't accept chains (e.g. &lt;code&gt;GET [base]/Patient?name.foo=smith&lt;/code&gt;) did not return an error and instead just ignored the chained part and treated the parameter as though it did not have the chain. This led to confusing and potentially unsafe behaviour. This has been corrected to return an error to the client. Thanks to Kevin Tallevi for finding this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix #411 - Searching by &lt;code&gt;POST [base]/_search&lt;/code&gt; with urlencoded parameters doesn't work correctly if interceptors are accessing the parameters and there is are also parameters on the URL. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/411&quot;&gt;411&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fluent client can now return types other than Parameters when invoking operations.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server shouldn't report a totalCount in Bundle of &quot;-1&quot; when there are no results&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server was not correctly normalizing strings with non-latin characters (e.g. Chinese chars). Thanks to GitHub user @YinAqu for reporting and providing some great analysis of the issue!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/454&quot;&gt;454&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new method to ReferenceClientParam which allows you to pass in a number of IDs by a collection of Strings. Thanks to Thomas Andersen for the pul request!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When encoding a resource in JSON where the resource has an extension with a value where the value is a reference to a contained resource, the reference value (e.g. &quot;#1&quot;) did not get serialized. Thanks to GitHub user @fw060 for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/327&quot;&gt;327&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;ResponseHighlighterInterceptor now pretty-prints responses by default unless the user has explicitly requested a non-pretty-printed response (ie. using &lt;code&gt;?_pretty=false&lt;/code&gt;. Thanks to Allan Brohansen and Jens Villadsen for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/464&quot;&gt;464&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new JSON library abstraction layer to the JSON parser. This contribution shouldn't have any end-user impact but does make it easier to use the JSON parser to generate custom structures for other purposes, and should allow us to support RDF more easily at some point. Thanks to Bill Denton for the pull request and the contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/469&quot;&gt;469&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU1 Bundle encoder did not include the Bundle entry author in the generated bundle. Thanks to Hannes Venter for the pull request and contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/455&quot;&gt;455&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove unused field (myIsContained) from ResourceTable in JPA server.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor is now a bit more aggressive at blocking read operations, stopping them on the way in if there is no way they will be accepted to the resource check on the way out. In addition it can now be configured to allow/deny operation invocations at the instance level on any instance of a given type&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 servers were incorrectly returning the &lt;code&gt;Content-Location&lt;/code&gt; header instead of the &lt;code&gt;Content&lt;/code&gt; header. The former has been removed from the FHIR specification in STU3, but the latter got removed in HAPI's code base. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/472&quot;&gt;472&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct several documentation issues. Thanks to Vadim Peretokin for the pull requests!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove an unneccesary database flush from JPA persistence operations&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add method to fluent client to allow OR search across several profiles. Thanks to Thomas Andersen for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/470&quot;&gt;470&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a2.0&quot;&gt;Release 2.0 &amp;#x2013; 2016-08-30&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON parsing in HAPI FHIR has been switched from using JSR353 (javax.json) to using Google Gson. For this reason we are bumping the major release number to 2.0. Theoretically this should not affect projects in any major way, but Gson does have subtle differences. Two differences which popped up a fair bit in our own testing: &lt;ul&gt; &lt;ul&gt; A space is placed after the : in keys, e.g. what was previously encoded as &lt;code&gt;&quot;resourceType&quot;:&quot;Patient&quot;&lt;/code&gt; is now encoded as &lt;code&gt;&quot;resourceType&quot;: &quot;Patient&quot;&lt;/code&gt; (this broke a number of our unit tests with hardcoded resource definitions) &lt;/ul&gt; &lt;ul&gt; Trailing content after a valid json resource is rejected by Gson (it was ignored by the Glassfish parser we were previously using even though it was invalid) &lt;/ul&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 structure definitions have been updated to the STU3 ballot candidate versions (1.6.0 - SVN 9663)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Both client and server now support the new Content Types decided in &lt;a href=&quot;http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=10199&quot;&gt;FHIR #10199&lt;/a&gt;. &lt;br/&gt;&lt;br/&gt; This means that the server now supports &lt;code&gt;application/fhir+xml&lt;/code&gt; and &lt;code&gt;application/fhir+json&lt;/code&gt; in addition to the older style &lt;code&gt;application/xml+fhir&lt;/code&gt; and &lt;code&gt;application/json+fhir&lt;/code&gt;. In order to facilitate migration by implementors, the old style remains the default for now, but the server will respond using the new style if the request contains it. The client now uses an &lt;code&gt;Accept&lt;/code&gt; header value which requests both styles with a preference given to the new style when running in DSTU3 mode. &lt;br/&gt;&lt;br/&gt; As a part of this change, the server has also been enhanced so that if a request contains a Content-Type header but no Accept header, the response will prefer the encoding specified by the Content-Type header.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Logback (used in sample projects): 1.1.5 -&amp;gt; 1.1.7&lt;/li&gt; &lt;li&gt;Phloc Commons (used by schematron validator): 4.4.4 -&amp;gt; 4.4.5&lt;/li&gt; &lt;li&gt;Commons-IO: 2.4 -&amp;gt; 2.5&lt;/li&gt; &lt;li&gt;Apache HTTPClient: 4.5.1 -&amp;gt; 4.5.2&lt;/li&gt; &lt;li&gt;Apache HTTPCore: 4.4.4 -&amp;gt; 4.4.5&lt;/li&gt; &lt;li&gt;Jersey (JAX-RS tests): 2.22.2 -&amp;gt; 2.23.1&lt;/li&gt; &lt;li&gt;Spring (JPA, Web Tester): 4.3.0 -&amp;gt; 4.3.1&lt;/li&gt; &lt;!--&lt;li&gt;Hibernate ORM (JPA): 5.1.0 -&amp;gt; 5.2.1&lt;/li&gt;--&gt; &lt;li&gt;Hibernate Search (JPA): 5.5.2 -&amp;gt; 5.5.4&lt;/li&gt; &lt;li&gt;Thymeleaf (Narrative Generator / Web Tester): 2.1.4 -&amp;gt;3.0.1&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in DSTU1 Bundle parsing where unexpected elements in the bundle resulted in a failure to parse.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU2 QuestionnaireResponse validator failed with an exception if the QuestionnaireResponse contained certain groups with no content&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fluent client should ignore parameter values which are null instead of including them as &lt;code&gt;?foo=null&lt;/code&gt;. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/150&quot;&gt;150&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When using &lt;code&gt;_elements&lt;/code&gt; parameter on server, the server was not automatically adding the &lt;code&gt;SUBSETTED&lt;/code&gt; tag as it should&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server should now automatically detect if Hibernate Search (Lucene) is configured to be disabled and will not attempt to use it. This prevents a crash for some operations.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;A new server interceptor &quot;BanUnsupprtedHttpMethodsInterceptor&quot; has been added which causes the server to return an HTTP 405 if an unsupported HTTP verb is received from the client&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an issue where resource IDs were not correctly set when using DSTU2 HL7org structures with the JAX-RS module. Thanks to Carlo Mion for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/404&quot;&gt;404&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;hapi-fhir-testpage-overlay project contained an unneccesary dependency on hapi-fhir-jpaserver-base module, which resulted in projects using the overlay having a large number of unnneded JARs included&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;It is not possible to configure both the parser and the context to preserve versions in resource references (default behaviour is to strip versions from references). Thanks to GitHub user @cknaap for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/403&quot;&gt;403&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;code&gt;Tag#setCode(String)&lt;/code&gt; did not actually set the code it was supposed to set. Thanks to Tim Tschampel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/409&quot;&gt;409&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server's &lt;code&gt;/Bundle&lt;/code&gt; endpoint cleared the &lt;code&gt;Bundle.entry.fullUrl&lt;/code&gt; field on stored bundles, resulting in invalid content being saved. Thanks to Mirjam Baltus for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/401&quot;&gt;401&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now returns HTTP 200 instead of HTTP 404 for conditional deletes which did not find any matches, per FHIR-I decision.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client that declares explicitly that it is searching/reading/etc for a custom type did not automatically parse into that type.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Allow servers to specify the authentication realm of their choosing when throwing an AuthenticationException. Thanks to GitHub user @allanbrohansen for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/406&quot;&gt;406&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new client implementation which uses the &lt;a href=&quot;http://square.github.io/okhttp/&quot;&gt;OkHttp&lt;/a&gt; library as the HTTP client implementation (instead of Apache HttpClient). This is particularly useful for Android (where HttpClient is a pain) but could also be useful in other places too. Thanks to Matt Clarke of Orion Health for the contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/416&quot;&gt;416&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a regression when parsing resources that have contained resources, where the reference in the outer resource which links to the contained resource sometimes did does not get populated with the actual target resource instance. Thanks to Neal Acharya for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;hapi-fhir-cli upload-terminology command now has an argument &quot;-b FOO&quot; that lets you add an authorization header in the form &lt;code&gt;Authorization: Bearer FOO&lt;/code&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parser failed to successfully encode a custom resource if it contained custom fields that also used custom types. Thanks to GitHub user @sjanic for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/423&quot;&gt;423&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Inprove handling of _text and _content searches in JPA server to do better matching on partial strings&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Servers in STU3 mode will now ignore any ID or VersionID found in the resource body provided by the client when processing FHIR &lt;code&gt;update&lt;/code&gt; operations. This change has been made because the FHIR specification now requires servers to ignore these values. Note that as a result of this change, resources passed to &lt;code&gt;@Update&lt;/code&gt; methods will always have &lt;code&gt;null&lt;/code&gt; ID&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add new methods to &lt;code&gt;AuthorizationInterceptor&lt;/code&gt; which allow user code to declare support for conditional create, update, and delete.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When encoding a resource with a reference to another resource that has a placeholder ID (e.g. urn:uuid:foo), the urn prefix was incorrectly stripped from the reference.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Servers for STU3 (or newer) will no longer include a &lt;code&gt;Location:&lt;/code&gt; header on responses for &lt;code&gt;read&lt;/code&gt; operations. This header was required in earlier versions of FHIR but has been removed from the specification.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix NullPointerException when encoding an extension containing CodeableConcept with log level set to TRACE. Thanks to Bill Denton for the report!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/428&quot;&gt;428&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add two new methods to the parser error handler that let users trap invalid contained resources with no ID, as well as references to contained resource that do not exist.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Improve performance when parsing resources containing contained resources by eliminating a step where references were woven twice&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parser failed to parse resources containing an extension with a value type of &quot;id&quot;. Thanks to Raphael M&Atilde;&curren;der for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/426&quot;&gt;426&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When committing a transaction in JPA server where the transaction contained placeholder IDs for references between bundles, the placeholder IDs were not substituted with viewing resources using the _history operation&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI root pom shouldn't include animal-sniffer plugin, since that causes any projects which extend this to be held to Java 6 compliance.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a1.6&quot;&gt;Release 1.6 &amp;#x2013; 2016-07-07&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Performance has been improved for the initial FhirContext object creation by avoiding a lot of unnecessary reflection. HAPI FHIR 1.5 had a regression compared to previous releases and this has been corrected, but other improvements have been made so that this release is faster than previous releases too. &lt;br/&gt;&lt;br/&gt; In addition, a new &quot;deferred scan&quot; mode has been implemented for even faster initialization on slower environments (e.g. Android). See the &lt;a href=&quot;./doc_rest_client_http_config.html#performance&quot;&gt;performance documentation&lt;/a&gt; for more information. &lt;br/&gt;&lt;br/&gt; The following shows our benchmarks for context initialization across several versions of HAPI: &lt;ul&gt; &lt;li&gt;Version 1.4: &lt;b&gt;560ms&lt;/b&gt;&lt;/li&gt; &lt;li&gt;Version 1.5: &lt;b&gt;800ms&lt;/b&gt;&lt;/li&gt; &lt;li&gt;Version 1.6: &lt;b&gt;340ms&lt;/b&gt;&lt;/li&gt; &lt;li&gt;Version 1.6 (deferred mode): &lt;b&gt;240ms&lt;/b&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Spring (JPA, Web Tester): 4.2.5 -&amp;gt; 4.3.0&lt;/li&gt; &lt;li&gt;Spring-Data (JPA): 1.9.2 -&amp;gt; 1.10.1&lt;/li&gt; &lt;!--&lt;li&gt;Hibernate ORM (JPA): 5.1.0 -&amp;gt; 5.2.0&lt;/li&gt;--&gt; &lt;li&gt;Hibernate Search (JPA): 5.5.2 -&amp;gt; 5.5.3&lt;/li&gt; &lt;li&gt;Jetty (CLI): 9.3.9 -&amp;gt; 9.3.10&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove some clases that were deprecated over a year ago and have suitable replacements: &lt;ul&gt; &lt;li&gt;QualifiedDateParam has been removed, but DateParam may be used instead&lt;/li&gt; &lt;li&gt;PathSpecification has been removedm but Include may be used instead&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;ResponseValidatingInterceptor threw an InternalErrorException (HTTP 500) for operations that do not return any content (e.g. delete). Thanks to Mohammad Jafari for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/345&quot;&gt;345&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST server now throws an HTTP 400 instead of an HTTP 500 if an operation which takes a FHIR resource in the request body (e.g. create, update) contains invalid content that the parser is unable to parse. Thanks to Jim Steel for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/342&quot;&gt;342&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Deprecate fluent client search operations without an explicit declaration of the bundle type being used. This also means that in a client &lt;code&gt;.search()&lt;/code&gt; operation, the &lt;code&gt;.returnBundle(Bundle.class)&lt;/code&gt; needs to be the last statement before &lt;code&gt;.execute()&lt;/code&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now respects the parameter &lt;code&gt;_format=application/xml+fhir&quot;&lt;/code&gt; which is technically invalid since the + should be escaped, but is likely to be used. Also, a parameter of &lt;code&gt;_format=html&lt;/code&gt; can now be used, which forces SyntaxHighlightingInterceptor to use HTML even if the headers wouldn't otherwise trigger it. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/346&quot;&gt;346&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Improve performance when parsing large bundles by fixing a loop over all of the entries inthe bundle to stitch together cross-references, which was happening once per entry instead of once overall. Thanks to Erick on the HAPI FHIR Google Group for noticing that this was an issue!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON parser no longer allows the resource ID to be specified in an element called &quot;_id&quot; (the correct one is &quot;id&quot;). Previously _id was allowed because some early FHIR examples used that form, but this was never actually valid so it is now being removed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now allows &quot;forced IDs&quot; (ids containing non-numeric, client assigned IDs) to use the same logical ID part on different resource types. E.g. A server may now have both Patient/foo and Obervation/foo on the same server.&lt;br/&gt;&lt;br/&gt; Note that existing databases will need to modify index &quot;IDX_FORCEDID&quot; as it is no longer unique, and perform a reindexing pass.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When serializing/encoding custom types which replace exsting choice fields by fixing the choice to a single type, the parser would forget that the field was a choice and would use the wrong name (e.g. &quot;abatement&quot; instead of &quot;abatementDateType&quot;). Thanks to Yaroslav Kovbas for reporting and providing a unit test!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/350&quot;&gt;350&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server transactions sometimes created an incorrect resource reference if a resource being saved contained references that had a display value but not an actual reference. Thanks to David Hay for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When performing a REST Client create or update with &lt;code&gt;Prefer: return=representation&lt;/code&gt; set, if the server does not honour the Prefer header, the client will automatically fetch the resource before returning. Thanks to Ewout Kramer for the idea!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/352&quot;&gt;352&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU3 structures now have &lt;code&gt;setFoo(List)&lt;/code&gt; and &lt;code&gt;setGetFooFirstRep()&lt;/code&gt; methods, bringing them back to parity with the HAPI DSTU2 structures. Thanks to Rahul Somasunderam and Claude Nanjo for the suggestions!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/354&quot;&gt;354&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server has now been refactored to use the new FluentPath search parameter definitions for DSTU3 resources.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;RequestValidatingInterceptor and ResponseValidatingInterceptor both have new method &lt;code&gt;setIgnoreValidatorExceptions&lt;/code&gt; which causes validator exceptions to be ignored, rather than causing processing to be aborted.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;LoggingInterceptor on server has a new parameter &lt;code&gt;${requestBodyFhir}&lt;/code&gt; which logs the entire request body.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JAX-RS server module now supports DSTU3 resources (previously it only supported DSTU2). Thanks to Phillip Warner for implementing this, and providing a pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/355&quot;&gt;355&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Generated conformance statements for DSTU3 servers did not properly reference their OperationDefinitions. Thanks to Phillip Warner for implementing this, and providing a pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/356&quot;&gt;356&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Properly handle null arrays when parsing JSON resources. Thanks to Subhro for fixing this and providing a pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/359&quot;&gt;359&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;STU3 validator failed to validate codes where the code was a child code within the code system that contained it (i.e. not a top level code). Thanks to Jon Zammit for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Restore the setType method in the DSTU1 Bundle class, as it was accidentally commented out. Thanks to GitHub user @Virdulys for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/361&quot;&gt;361&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports composite search parameters where the type of the composite parameter is a quantity (e.g. Observation:component-code-component-value-quantity)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove the Remittance resource from DSTU2 structures, as it is not a real resource and was causing issues with interoperability with the .NET client.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;CLI tool cache feature (-c) for upload-example task sometimes failed to write cache file and exited with an exception.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix error message in web testing UI when loading pages in a search result for STU3 endpoints.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When encoding JSON resource, the parser will now always ensure that XHTML narrative content has an XHTML namespace declaration on the first DIV tag. This was preventing validation for some resources using the official validator rules.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server failed to invoke operations when the name was escaped (%24execute instead of $execute). Thanks to Michael Lawley for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server transactions containing a bundle that has multiple entries trying to delete the same resource caused a 500 internal error&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA module failed to index search parameters that mapped to a Timing datatype, e.g. CarePlan:activitydate&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new option to the CLI run-server command called &lt;code&gt;--lowmem&lt;/code&gt;. This option disables some features (e.g. fulltext search) in order to allow the server to start in memory-constrained environments (e.g Raspberry Pi)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When updating a resource via an update operation on the server, if the ID of the resource is not present in the resource body but is present on the URL, this will now be treated as a warning instead of as a failure in order to be a bit more tolerant of errors. If the ID is present in the body but does not agree with the ID in the URL this remains an error.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server / JPA server date range search params (e.g. Encounter:date) now treat a single date with no comparator (or the eq comparator) as requiring that the value be completely contained by the range specified. Thanks to Chris Moesel for the suggestion.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In server, if a parameter was annotated with the @Count annotation, the count would not appear in the self/prev/next links and would not actually be applied to the search results by the server. Thanks to Jim Steele for letting us know!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Conditional update on server failed to process if the conditional URL did not have any search parameters that did not start with an underscore. E.g. &quot;Patient?_id=1&quot; failed even though this is a valid conditional reference.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server can now be configured to allow external references (i.e. references that point to resources on other servers). See &lt;a href=&quot;./doc_jpa.html&quot;&gt;JPA Documentation&lt;/a&gt; for information on how to use this. Thanks to Naminder Soorma for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/363&quot;&gt;363&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When posting a resource to a server that contains an invalid value in a boolean field (e.g. Patient with an active value of &quot;1&quot;) the server should return an HTTP 400, not an HTTP 500. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/366&quot;&gt;366&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Enable parsers to parse and serialize custom resources that contain custom datatypes. An example has been added which shows how to do this &lt;a href=&quot;./doc_custom_structures.html&quot;&gt;here&lt;/a&gt;. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/364&quot;&gt;364&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON parser was incorrectly encoding resource language attribute in JSON as an array instead of a string. Thanks to David Hay for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;S&Atilde;&copy;bastien Rivi&Atilde;&uml;re contributed an excellent pull request which adds a number of enhancements to JAX-RS module: &lt;ul&gt; &lt;li&gt;Enable the conditional update and delete&lt;/li&gt; &lt;li&gt;Creation of a bundle provider, and support of the @Transaction&lt;/li&gt; &lt;li&gt;Bug fix on the exceptions handling as some exceptions throw outside bean context were not intercept.&lt;/li&gt; &lt;li&gt;Add the possibility to have the stacktrace in the jaxrsException&lt;/li&gt; &lt;/ul&gt;. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/367&quot;&gt;367&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;FhirTerser.cloneInto method failed to clone correctly if the source had any extensions. Thanks to GitHub user @Virdulys for submitting and providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/369&quot;&gt;369&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Update DSTU2 InstanceValidator to latest version from upstream&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Web Testing UI was not able to correctly post an STU3 transaction&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateTime parser incorrectly parsed times where more than 3 digits of precision were provided on the seconds after the decimal point&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Improve error messages when the $validate operation is called but no resource is actually supplied to validate&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU2+ servers no longer return the Category header, as this has been removed from the FHIR specification (and tags are now available in the resource body so the header was duplication/wasted bandwidth)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Create and Update operations in server did not include ETag or Last-Modified headers even though the spec says they should. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/374&quot;&gt;374&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Update STU3 client and server to use the new sort parameter style (param1,-param2,param). Thanks to GitHub user @euz1e4r for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/371&quot;&gt;371&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;QuantityClientParam#withUnit(String) put the unit into the system part of the parameter value&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fluent client searches with date parameters were not correctly using new prefix style (e.g. gt) instead of old one (e.g. &gt;)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Some built-in v3 code systems for STU3 resources were missing certain codes, which caused false failures when validating resources. Thanks to GitHub user @Xoude for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/370&quot;&gt;370&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Some methods on DSTU2 model structures have JavaDocs that incorrectly claim that the method will not return null when in fact it can. Thanks to Rick Riemer for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/365&quot;&gt;365&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;ResponseHighlightingInterceptor has been modified based on consensus on Zulip with Grahame that requests that have a parameter of &lt;code&gt;_format=json&lt;/code&gt; or &lt;code&gt;_format=xml&lt;/code&gt; will output raw FHIR content instead of HTML highlighting the content as they previously did. HTML content can now be forced via the (previously existing) &lt;code&gt;_format=html&lt;/code&gt; or via the two newly added values &lt;code&gt;_format=html/json&lt;/code&gt; and &lt;code&gt;_format=html/xml&lt;/code&gt;. Because of this change, the custom &lt;code&gt;_raw=true&lt;/code&gt; mode has been deprecated and will be removed at some point.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Operation definitions (e.g. for $everything operation) in the generated server conformance statement should not include the $ prefix in the operation name or code. Thanks to Dion McMurtrie for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/267&quot;&gt;267&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server generated OperationDefinition resources did not validate due to some missing elements (kind, status, etc.). Thanks to Michael Lawley for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/378&quot;&gt;378&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Operations that are defined on multiple resource provider types with the same name (e.g. &quot;$everything&quot;) are now automatically exposed by the server as separate OperationDefinition resources per resource type. Thanks to Michael Lawley for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/379&quot;&gt;379&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;OperationDefinition resources generated automatically by the server for operations that are defined within resource/plain providers incorrectly stated that the maximum cardinality was &quot;*&quot; for non-collection types with no explicit maximum stated, which is not the behaviour that the JavaDoc on the @OperationParam annotation describes. Thanks to Michael Lawley for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/380&quot;&gt;380&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server parameters annotated with &lt;code&gt;@Since&lt;/code&gt; or &lt;code&gt;@Count&lt;/code&gt; which are of a FHIR type such as IntegerDt or DateTimeType will now be set to null if the client's URL does not contain this parameter. Previously they would be populated with an empty instance of the FHIR type, which was inconsistent with the way other server parameters worked.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now supports the _at parameter (including multiple repetitions) for history operation&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;AuthorizationInterceptor can now allow or deny requests to extended operations (e.g. $everything)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DecimalType used BigDecimal constructor instead of valueOf method to create a BigDecimal from a double, resulting in weird floating point conversions. Thanks to Craig McClendon for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove the depdendency on a method from commons-lang3 3.3 which was causing issues on some Android phones which come with an older version of this library bundled. Thanks to Paolo Perliti for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/394&quot;&gt;394&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parser is now better able to handle encoding fields which have been populated with a class that extends the expected class&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When declaring a child with &lt;code&gt;order=Child.REPLACE_PARENT&lt;/code&gt; the serialized form still put the element at the end of the resource instead of in the correct order&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix STU3 JPA resource providers to allow validate operation at instance level&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a1.5&quot;&gt;Release 1.5 &amp;#x2013; 2016-04-20&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Security Fix: XML parser was vulnerable to XXE (XML External Entity) processing, which could result in local files on disk being disclosed. See &lt;a href=&quot;https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Processing&quot;&gt;this page&lt;/a&gt; for more information. Thanks to Jim Steel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/339&quot;&gt;339&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Hibernate (JPA, Web Tester): 5.0.7 -&amp;gt; 5.1.0&lt;/li&gt; &lt;li&gt;Spring (JPA, Web Tester): 4.2.4 -&amp;gt; 4.2.5&lt;/li&gt; &lt;li&gt;SLF4j (All): 1.7.14 -&amp;gt; 1.7.21&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support comments when parsing and encoding both JSON and XML. Comments are retrieved and added to the newly created methods IBase#getFormatCommentsPre() and IBase#getFormatCommentsPost()&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Added options to the CLI upload-examples command which allow it to cache the downloaded content file, or use an arbitrary one. Thanks to Adam Carbone for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/293&quot;&gt;293&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST search parameters with a prefix/comparator had not been updated to use the DSTU2 style prefixes (gt2011-01-10) instead of the DSTU1 style prefixes (&gt;2011-01-01). The client has been updated so that it uses the new prefixes if the client has a DSTU2+ context. The server has been updated so that it now supports both styles. &lt;br/&gt;&lt;br/&gt; As a part of this change, a new enum called &lt;a href=&quot;./apidocs/ca/uhn/fhir/rest/param/ParamPrefixEnum.html&quot;&gt;ParamPrefixEnum&lt;/a&gt; has been introduced. This enum replaces the old &lt;a href=&quot;./apidocs/ca/uhn/fhir/model/dstu/valueset/QuantityCompararatorEnum.html&quot;&gt;QuantityCompararatorEnum&lt;/a&gt; which has a typo in its name and can not represent several new prefixes added since DSTU1.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server number and quantity search params now follow the rules for the use of precision in search terms outlined in the &lt;a href=&quot;https://www.hl7.org/fhir/search.html&quot;&gt;search page&lt;/a&gt; of the FHIR specification. For example, previously a 1% tolerance was applied for all searches (10% for approximate search). Now, a tolerance which respects the precision of the search term is used (but still 10% for approximate search).&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a failure starting the REST server if a method returns an untyped List, which among other things prevented resource provider added to the server as CDI beans in a JBoss enviroment. Thanks to GitHub user fw060 (Fei) for reporting and figuring out exactly why this wasn't working!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/291&quot;&gt;291&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports :above and :below qualifiers on URI search params&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add optional support (disabled by default for now) to JPA server to support inline references containing search URLs. These URLs will be resolved when a resource is being created/updated and replaced with the single matching resource. This is being used as a part of the May 2016 Connectathon for a testing scenario.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The server no longer adds a &lt;code&gt;WWW-Authenticate&lt;/code&gt; header to the response if any resource provider code throws an &lt;code&gt;AuthenticationException&lt;/code&gt;. This header is used for interactive authentication, which isn't generally appropriate for FHIR. We added code to add this header a long time ago for testing purposes and it never got removed. Please let us know if you need the ability to add this header automatically. Thanks to Lars Kristian Roland for pointing this out.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In the client, the create/update operations on a Binary resource (which use the raw binary's content type as opposed to the FHIR content type) were not including any request headers (Content-Type, User-Agent, etc.) Thanks to Peter Van Houte of Agfa Healthcare for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Handling of Binary resources containing embedded FHIR resources for create/update/etc operations has been corrected per the FHIR rules outlined at &lt;a href=&quot;http://hl7.org/fhir/binary.html&quot;&gt;Binary Resource&lt;/a&gt; in both the client and server. &lt;br/&gt;&lt;br/&gt; Essentially, if the Binary contains something that isn't FHIR (e.g. an image with an image content-type) the client will send the raw data with the image content type to the server. The server will place the content type and raw data into a Binary resource instance and pass those to the resource provider. This part was already correct previous to 1.5. &lt;br/&gt;&lt;br/&gt; On the other hand, if the Binary contains a FHIR content type, the Binary is now sent by the client to the server as a Binary resource with a FHIR content-type, and the embedded FHIR content is contained in the appropriate fields. The server will pass this &quot;outer&quot; Binary resource to the resource provider code.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;The RequestDetails and ActionRequestDetails objects which are passed to server interceptor methods and may also be used as server provider method arguments now has a new method &lt;code&gt;Map&amp;lt;String, String&amp;gt; getUserData()&lt;/code&gt; which can be used to pass data and objects between interceptor methods to to providers. This can be useful, for instance, if an authorization interceptor wants to pass the logged in user's details to other parts of the server.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When &lt;code&gt;IServerInterceptor#incomingRequestPreHandled()&lt;/code&gt; is called for a &lt;code&gt;@Validate&lt;/code&gt; method, the resource was not populated in the &lt;code&gt;ActionRequestDetails&lt;/code&gt; argument. Thanks to Ravi Kuchi for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/297&quot;&gt;297&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Request to server at &lt;code&gt;[baseUrl]/metadata&lt;/code&gt; with an HTTP method other than GET (e.g. POST, PUT) should result in an HTTP 405. Thanks to Michael Lawley for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/298&quot;&gt;298&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a server exception when trying to automatically add the profile tag to a resource which already has one or more profiles set. Thanks to Magnus Vinther for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/302&quot;&gt;302&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;QuantityParam parameters being used in the RESTful server were ignoring the &lt;code&gt;:missing&lt;/code&gt; qualifier. Thanks to Alexander Takacs for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/296&quot;&gt;296&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Annotation client failed with an exception if the response contained extensions on fields in the resonse Bundle (e.g. Bundle.entry.search). Thanks to GitHub user am202 for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/299&quot;&gt;299&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Primitive elements with no value but an extension were sometimes not encoded correctly in XML, and sometimes not parsed correctly in JSON. Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/274&quot;&gt;274&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The Web Testing UI has long had an issue where if you click on a button which navigates to a new page (e.g. search, read, etc) and then click the back button to return to the original page, the button you clicked remains disabled and can't be clicked again (on Firefox and Safari). This is now fixed. Unfortunately the fix means that the buttom will no longer show a &quot;loading&quot; spinner, but there doesn't seem to be another way of fixing this. Thanks to Mark Scrimshire for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/280&quot;&gt;280&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Extensions found while parsing an object that doesn't support extensions are now reported using the IParserErrorHandler framework in the same way that other similar errors are handled. This allows the parser to be more lenient when needed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Improve error message if incorrect type is placed in a list field in the data model. Java uses generics to prevent this at compile time, but if someone is in an environment without generics this helps improve the error message at runtime. Thanks to Hugo Soares for suggesting. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/304&quot;&gt;304&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent an unneeded warning when parsing a resource containing a declared extension. Thanks to Matt Blanchette for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/308&quot;&gt;308&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Web Tester UI did not invoke VRead even if a version ID was specified. Thanks to Poseidon for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Per discussion on the FHIR implementer chat, the JPA server no longer includes _revinclude matches in the Bundle.total count, or the page size limit.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now persists search results to the database in a new table where they can be temporaily preserved. This makes the JPA server much more scalable, since it no longer needs to store large lists of pages in memory between search invocations. &lt;br/&gt;&lt;br/&gt; Old searches are deleted after an hour by default, but this can be changed via a setting in the DaoConfig.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA servers' resource version history mechanism has been adjusted so that the history table keeps a record of all versions including the current version. This has the very helpful side effect that history no longer needs to be paged into memory as a complete set. Previously history had a hard limit of only being able to page the most recent 20000 entries. Now it has no limit.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server returned the wrong Bundle.type value (COLLECTION, should be SEARCHSET) for $everything operation responses. Thanks to Sonali Somase for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST and JPA server should reject update requests where the resource body does not contain an ID, or contains an ID which does not match the URL. Previously these were accepted (the URL ID was trusted) which is incorrect according to the FHIR specification. Thanks to GitHub user ametke for reporting! &lt;br/&gt;&lt;br/&gt; As a part of this change, server error messages were also improved for requests where the URL does not contain an ID but needs to (e.g. for an update) or contains an ID but shouldn't (e.g. for a create). Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/305&quot;&gt;305&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When fields of type BoundCodeDt (e.g. Patient.gender) are serialized and deserialized using Java's native object serialization, the enum binder was not serialized too. This meant that values for the field in the deserialized object could not be modified. Thanks to Thomas Andersen for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST Server responded to HTTP OPTIONS requests with any URI as being a request for the server's Conformance statement. This is incorrect, as only a request for &lt;code&gt;OPTIONS [base url]&lt;/code&gt; should be treated as such. Thanks to Michael Lawley for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/313&quot;&gt;313&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST annotation style client was not able to handle extended operations ($foo) where the response from the server was a raw resource instead of a Parameters resource. Thanks to Andrew Michael Martin for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server applies _lastUpdated filter inline with other searches wherever possible instead of applying this filter as a second query against the results of the first query. This should improve performance when searching against large datasets.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parsers have new method &lt;code&gt;setDontEncodeElements&lt;/code&gt; which can be used to force the parser to not encode certain elements in a resource when serializing. For example this can be used to omit sensitive data or skip the resource metadata.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server database design has been adjusted so that different tables use different sequences to generate their indexes, resulting in more sequential resource IDs being assigned by the server&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now correctly serves up Binary resources using their native content type (instead of as a FHIR resource) if the request contains an accept header containing &quot;application/xml&quot; as some browsers do.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU2 resources now have a &lt;code&gt;getMeta()&lt;/code&gt; method which returns a modifiable view of the resource metadata for convenience. This matches the equivalent method in the DSTU3 structures.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new method to FhirContext called &lt;code&gt;&lt;a href=&quot;./apidocs/ca/uhn/fhir/context/FhirContext.html#setDefaultTypeForProfile-java.lang.String-java.lang.Class-&quot;&gt;setDefaultTypeForProfile&lt;/a&gt;&lt;/code&gt; which can be used to specify that when recources are received which declare support for specific profiles, a specific custom structures should be used instead of the default. For example, if you have created a custom Observation class for a specific profile, you could use this method to cause your custom type to be used by the parser for resources in a search bundle you receive. &lt;br/&gt;&lt;br/&gt; See the documentation page on &lt;a href=&quot;./doc_extensions.html&quot;&gt;Profiles and Extensions&lt;/a&gt; for more information. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/315&quot;&gt;315&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parsing/Encoding a custom resource type which extends a base type sometimes caused the FhirContext to treat all future parses of the same resource as using the custom type even when this was not wanted. &lt;br/&gt;&lt;br/&gt; Custom structures may now be explicitly declared by profile using the &lt;code&gt;&lt;a href=&quot;./apidocs/ca/uhn/fhir/context/FhirContext.html#setDefaultTypeForProfile-java.lang.String-java.lang.Class-&quot;&gt;setDefaultTypeForProfile&lt;/a&gt;&lt;/code&gt; method. &lt;br/&gt;&lt;br/&gt; This issue was discovered and fixed as a part of the implementation of issue #315. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/315&quot;&gt;315&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Set up the tinder plugin to work as an ant task as well as a Maven plugin, and to use external sources. Thanks to Bill Denton for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/321&quot;&gt;321&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now allows searching by token parameter using a system only and no code, giving a search for any tokens which match the given token with any code. Previously the expected behaviour for this search was not clear in the spec and HAPI had different behaviour from the other reference servers.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduce a JAX-RS client provider which can be used instead of the default Apache HTTP Client provider to provide low level HTTP services to HAPI's REST client. See &lt;a href=&quot;./doc_rest_client_alternate_provider.html&quot;&gt;JAX-RS &amp;amp; Alternate HTTP Client Providers&lt;/a&gt; for more information. &lt;br/&gt;&lt;br/&gt; This is useful in cases where you have other non-FHIR REST clients using a JAX-RS provider and want to take advantage of the rest of the framework. &lt;br/&gt;&lt;br/&gt; Thanks to Peter Van Houte from Agfa for the amazing work!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parser failed with a NPE while encoding resources if the resource contained a null extension. Thanks to steve1medix for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/312&quot;&gt;312&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In generated model classes (DSTU1/2) don't use BoundCodeDt and BoundCodeableConceptDt for coded fields which use example bindings. Thanks to GitHub user Ricq for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/320&quot;&gt;320&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Operations methods defined using &lt;code&gt;@Operation&lt;/code&gt; will now infer the maximum number of repetitions of their parameters by the type of the parameter. Previously if a default &lt;code&gt;max()&lt;/code&gt; value was not specified in the &lt;code&gt;@OperationParam&lt;/code&gt; annotation on a parameter, the maximum was assumed to be 1. Now, if a max value is not explicitly specified and the type of the parameter is a basic type (e.g. &lt;code&gt;StringDt&lt;/code&gt;) the max will be 1. If the parameter is a collection type (e.g. &lt;code&gt;List&amp;lt;StringDt&amp;gt;&lt;/code&gt;) the max will be *&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Operation methods defined using &lt;code&gt;@Operation&lt;/code&gt; may now use search parameter types, such as &lt;code&gt;TokenParam&lt;/code&gt; and &lt;code&gt;TokenAndListParam&lt;/code&gt; as values. Thanks to Christian Ohr for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/317&quot;&gt;317&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add databases indexes to JPA module search index tables for the RES_ID column on each. This should help performance when searching over large datasets. Thanks to Emmanuel Duviviers for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateTimeType should fail to parse 1974-12-25+10:00 as this is not a valid time in FHIR. Thanks to Grahame Grieve for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing a Bundle resource, if the Bundle.entry.request.url contains a UUID but the resource body has no ID, the Resource.id will be populated with the ID from the Bundle.entry.request.url. This is helpful when round tripping Bundles containing UUIDs.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing a DSTU3 bundle, references between resources did not have the actual resource instance populated into the reference if the IDs matched as they did in DSTU1/2.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Contained resource references on DSTU3 resources were not serialized correctly when using the Json Parser. Thanks to GitHub user @fw060 for reporting and supplying a patch which corrects the issue!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/326&quot;&gt;326&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU3 model classes equalsShallow and equalsDeep both did not work correctly if a field was null in one object, but contained an empty object in the other (e.g. a StringType with no actual value in it). These two should be considered equal, since they would produce the exact same wire format.&lt;br/&gt;&lt;br/&gt; Thanks to GitHub user @ipropper for reporting and providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/325&quot;&gt;325&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports searching for &lt;code&gt;_tag:not=[tag]&lt;/code&gt; which enables finding resources that to not have a given tag/profile/security tag. Thanks to Lars Kristian Roland for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Extensions containing resource references did not get encoded correctly some of the time. Thanks to Poseidon for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parsers (both XML and JSON) encoded the first few elements of DSTU3 structures in the wrong order: Extensions were placed before any other content, which is incorrect (several elements come first: meta, text, etc.)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In server implementations, the Bundle.entry.fullUrl was not getting correctly populated on Hl7OrgDstu2 servers. Thanks to Christian Ohr for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Ensure that element IDs within resources (i.e. IDs on elements other than the resource itself) get serialized and parsed correctly. Previously, these didn't get serialized in a bunch of circumstances. Thanks to Vadim Peretokin for reporting and providing test cases!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/335&quot;&gt;335&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Improve CLI error message if the tool can't bind to the requested port. Thanks to Claude Nanjo for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server param of &lt;code&gt;_summary=text&lt;/code&gt; did not include mandatory elements in return as well as the text element, even though the FHIR specification required it.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove invalid resource type &quot;Documentation&quot; from DSTU2 structures.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not respect target types for search parameters. E.g. Appointment:patient has a path of &quot;Appointment.participant.actor&quot; and a target type of &quot;Patient&quot;. The search path was being correctly handled, but the target type was being ignored.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;RestfulServer now manually parses URL parameters instead of relying on the container's parsed parameters. This is useful because many Java servlet containers (e.g. Tomcat, Glassfish) default to ISO-8859-1 encoding for URLs insetad of the UTF-8 encoding specified by FHIR.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;ResponseHighlightingInterceptor now doesn't highlight if the request has an Origin header, since this probably denotes an AJAX request.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a1.4&quot;&gt;Release 1.4 &amp;#x2013; 2016-02-04&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Hibernate (JPA, Web Tester): 5.0.3 -&amp;gt; 5.0.7&lt;/li&gt; &lt;li&gt;Springframework (JPA, Web Tester): 4.2.2 -&amp;gt; 4.2.4&lt;/li&gt; &lt;li&gt;Phloc-Commons (Schematron Validator): 4.3.6 -&amp;gt; 4.4.4&lt;/li&gt; &lt;li&gt;Apache httpclient (Client): 4.4 -&amp;gt; 4.5.1&lt;/li&gt; &lt;li&gt;Apache httpcore (Client): 4.4 -&amp;gt; 4.4.4&lt;/li&gt; &lt;li&gt;SLF4j (All): 1.7.13 -&amp;gt; 1.7.14&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove a dependency on a Java 1.7 class (ReflectiveOperationException) in several spots in the codebase. This dependency was accidentally introduced in 1.3, and animal-sniffer-plugin failed to detect it (sigh).&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add two new server interceptors: &lt;a href=&quot;./apidocs/ca/uhn/fhir/rest/server/interceptor/RequestValidatingInterceptor.html&quot;&gt;RequestValidatingInterceptor&lt;/a&gt; and &lt;a href=&quot;./apidocs/ca/uhn/fhir/rest/server/interceptor/ResponseValidatingInterceptor.html&quot;&gt;ResponseValidatingInterceptor&lt;/a&gt; which can be used to validate incoming requests or outgoing responses using the standard FHIR validation tools. See the &lt;a href=&quot;./doc_rest_server_interceptor.html#RequestResponse_Validation&quot;&gt;Server Validation Page&lt;/a&gt; for examples of how to use these interceptors. These intereptors have both been enabled on the &lt;a href=&quot;http://fhirtest.uhn.ca&quot;&gt;public test page&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Make IBoundCodeableConcept and IValueSetEnumBinder serializable, fixing an issue when trying to serialize model classes containing bound codes. Thanks to Nick Peterson for the Pull Request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/259&quot;&gt;259&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduce a JAX-RS version of the REST server, which can be used to deploy the same resource provider implementations which work on the existing REST server into a JAX-RS (e.g. Jersey) environment. Thanks to Peter Van Houte from Agfa for the amazing work!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/251&quot;&gt;251&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;CLI now supports writing to file:// URL for 'upload-examples' command&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;GZipped content is now supported for client-to-server uploads (create, update, transaction, etc.). The server will not automatically detect compressed incoming content and decompress it (this can be disabled using a RestfulServer configuration setting). A new client interceptor has been added which compresses outgoing content from the client.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server transaction attempted to validate resources twice each, with one of these times being before anything had been committed to the database. This meant that if a transaction contained both a Questionnaire and a QuestionnaireResponse, it would fail because the QuestionnaireResponse validator wouldn't be able to find the questionnaire. This is now corrected.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new method to the generic/fluent client for searching: &lt;code&gt;.count(int)&lt;/code&gt;&lt;br/&gt; This replaces the existing &quot;.limitTo(int)&quot; method which has now been deprocated because it was badly named and undocumented.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Profile validator has been configured to allow extensions even if they aren't explicitly declared in the profile.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a constraint that the Maven build will only run in JDK 8+. HAPI remains committed to supporting JDK 6+ in the compiled library, but these days it can only be built using JDK 8. Thanks to joelsch for the PR!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/265&quot;&gt;265&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When serializing a value[x] field, if the value type was a profiled type (e.g. markdown is a profile of string) HAPI 1.3 would use the base type in the element name, e.g. valueString instead of valueMarkdown. After discussion with Grahame, this appears to be incorrect behaviour so it has been fixed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support target parameter type in _include / _revinclude values, e.g. _include=Patient:careProvider:Organization. Thanks to Joe Portner for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/240&quot;&gt;240&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Use ResponseHighlighterInterceptor in the hapi-fhir-jpaserver-example project to provide nice syntax highlighting. Thanks to Rob Hausam for noting that this wasn't there.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduce custom @CoverageIgnore annotation to hapi-fhir-base in order to remove dependency on cobertura during build and in runtime.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server-generated conformance statements incorrectly used /Profile/ instead of /StructureDefinition/ in URL links to structures.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JsonParser has been changed so that when serializing numbers it will use plain format (0.001) instead of scientific format (1e-3). The latter is valid JSON, and the parser will still correctly parse either format (all clients should be prepared to) but this change makes serialized resources appear more consistent between XML and JSON. As a result of this change, trailing zeros will now be preserved when serializing as well.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add DSTU3 example to hapi-fhir-jpaserver-example. Thanks to Karl Davis for the Pull Request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/278&quot;&gt;278&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;RestfulServer#setUseBrowserFriendlyContentTypes has been deprecated and its functionality removed. The intention of this feature was that if it detected a request coming in from a browser, it would serve up JSON/XML using content types that caused the browsers to pretty print. But each browser has different rules for when to pretty print, and after we wrote that feature both Chrome and FF changed their rules to break it anyhow. ResponseHighlightingInterceptor provides a better implementation of this functionality and should be used instead.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/remove.gif&quot; alt=&quot;Remove&quot; title=&quot;Remove&quot; /&gt;&lt;/td&gt; &lt;td&gt;Narrative generator framework has removed the ability to generate resource titles. This functionality was only useful for DSTU1 implementations and wasn't compatible with coming changes to that API.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove dependency on Servlet-API 3.0+ by using methods available in 2.5 where possible. Note that we continue to use Servlet-API 3.0+ features in some parts of the JPA API, so running in an old serlvet container should be tested well before use. Thanks to Bill Denton for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/283&quot;&gt;283&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add new methods to RestfulClientFactory allowing you to configure the size of the client pool used by Apache HttpClient. Thanks to Matt Blanchette for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/288&quot;&gt;288&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for new modifier types on Token search params in Server and annotation client.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server conformance statement should include search parameter chains if the chains are explicitly defined via @Search(whitelist={....}). Thanks to lcamilo15 for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/286&quot;&gt;286&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove afterPropertiesSet() call in Java config for JPA server's EntityManagerFactory. This doesn't need to be called manually, the the manual call led to a warning about the EntityManager being created twice.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Allow server to correctly figure out it's own address even if the container provides a Servlet Context Path which does not include the root. Thanks to Petro Mykhaylyshyn for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/289&quot;&gt;289&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a1.3&quot;&gt;Release 1.3 &amp;#x2013; 2015-11-14&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;a&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions (dependent HAPI modules listed in brackets): &lt;ul&gt; &lt;li&gt;Commons-lang3 (Core): 3.3.2 -&amp;gt; 3.4&lt;/li&gt; &lt;li&gt;Logback (Core): 1.1.2 -&amp;gt; 1.1.3&lt;/li&gt; &lt;li&gt;SLF4j (Core): 1.7.102 -&amp;gt; 1.7.12&lt;/li&gt; &lt;li&gt;Springframework (JPA, Web Tester): 4.1.5 -&amp;gt; 4.2.2&lt;/li&gt; &lt;li&gt;Hibernate (JPA, Web Tester): 4.2.17 -&amp;gt; 5.&quot;&lt;/li&gt; &lt;li&gt;Hibernate Validator (JPA, Web Tester): 5.2.1 -&amp;gt; 5.2.2&lt;/li&gt; &lt;li&gt;Derby (JPA, CLI, Public Server): 10.11.1.1 -&amp;gt; 10.12.1.1 &lt;/li&gt; &lt;li&gt;Jetty (JPA, CLI, Public Server): 9.2.6.v20141205 -&amp;gt; 9.3.4.v20151007 &lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA and Tester Overlay now use Spring Java config files instead of the older XML config files. All example projects have been updated.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server removes duplicate resource index entries before storing them (e.g. if a patient has the same name twice, only one index entry is created for that name)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not correctly index search parameters of type &quot;reference&quot; where the path had multiple entries (i.e. &quot;Resource.path1 | Resource.path2&quot;)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server _history operations (server, type, instance) not correctly set the Bundle.entry.request.method to POST or PUT for create and updates of the resource.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support AND/OR on _id search parameter in JPA. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/225&quot;&gt;225&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Constructor for DateRanfeParam which dates in two DateParam instances was ignoring comparators on the DateParam.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In JSON parsing, finding an object where an array was expected led to an unhelpful error message. Thanks to Avinash Shanbhag for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server gave an unhelpful error message if $meta-add or $meta-delete were called with no meta elements in the input Parameters&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Narrative generator did not include OperationOutcome.issue.diagnostics in the generated narrative.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Clients (generic and annotation) did not populate the Accept header on outgoing requests. This is now populated to indicate that the client supports both XML and JSON unless the user has explicitly requested one or the other (in which case the appropriate type only will be send in the accept header). Thanks to Avinash Shanbhag for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/250&quot;&gt;250&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;QuestionnaireResponse validator now allows responses to questions of type OPENCHOICE to be of type 'string'&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server should reject resources with a reference that points to an incorrectly typed resource (e.g. points to Patient/123 but resource 123 is actually an Observation) or points to a resource that is not valid in the location it is found in (e.g. points to Patient/123 but the field supposed to reference an Organization). Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/227&quot;&gt;227&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In server, if a client request is received and it has an Accept header indicating that it supports both XML and JSON with equal weight, the server's default is used instead of the first entry in the list.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports searching with sort by token, quantity, number, Uri, and _lastUpdated (previously only string, date, and _id were supported)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in JPA where a search with a _lastUpdated filter which matches no results would crash if the search also had a _sort&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix several cases where invalid requests would cause an HTTP 500 instead of a more appropriate 400/404 in the JPA server (vread on invalid version, delete with no ID, etc.)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix narrative generation for DSTU2 Medication resource&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Profile validator now works for valuesets which use v2 tables&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server Patient/[id]/$everything operation now supports _lastUpdated filtering and _sort'ing of results.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix parser issue where profiled choice element datatypes (e.g. value[x] where one allowable type is Duration, which is a profile of Quantity) get incorrectly encoded using the profiled datatype name instead of the base datatype name as required by the FHIR spec. Thanks to Nehashri Puttu Lokesh for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/233&quot;&gt;233&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Some generated Enum types in DSTU2 HAPI structures did not have latest valueset definitions applied. Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server can now successfully search for tokens pointing at code values (values with no explicit system but an implied one, such as Patient.gender) even if the system is supplied in the query.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct issues with Android library. Thanks to Thomas Andersen for the submission!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/235&quot;&gt;235&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server incorrectly rejected match URLs if they did not contain a question mark. Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove invalid entries in OSGi Manifest. Thanks to Alexander Kley for the fix!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/234&quot;&gt;234&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports $everything on Patient and Encounter types (patient and encounter instance was already supported)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Generic client operation invocations now have an additional inline method for generating the input Parameters using chained method calls instead of by passing a Parameters resource in&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parsing an XML resource where the XHTML namespace was declared before the beginning of the narrative section caused an invalid re-encoding when encoding to JSON.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Conditional deletes in JPA did not correctly process if the condition had a chain or a qualifier, e.g. &quot;Patient?organization.name&quot; or &quot;Patient.identifier:missing&quot;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Generic/fluent client search can now be performed using a complete URL supplied by user code. Thanks to Simone Heckmann pointing out that this was needed!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Refactor JPA $everything operations so that they perform better&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server operation methods can now declare the ID optional, via @IdParam(optional=true) meaning that the same operation can also be invoked at the type level.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Make JPA search queries with _lastUpdated parameter a bit more efficient&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Clean up Android project to make it more lightweight and remove a number of unneeded dependencies. Thanks to Thomas Andersen for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/239&quot;&gt;239&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix a crash when encoding a Binary resource in JSON encoding if the resource has no content-type&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports read/history/search in transaction entries by calling the actual implementing method in the server (previously the call was simulated, which meant that many features did not work)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;ResourceReferenceDt#loadResource(IRestfulClient) did not use the client's read functionality, so it did not handle JSON responses or use interceptors. Thanks to JT for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server maximumn length for a URI search parameter has been reduced from 256 to 255 in order to accomodate MySQL's indexing requirements&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server failed to respond correctly to compartment search operations if the same provider also contained a read operation. Thanks to GitHub user @am202 for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/242&quot;&gt;242&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in testpage-overlay's new Java configuration where only the first configured server actually gets used. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/245&quot;&gt;245&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduce &lt;a href=&quot;./apidocs-jpaserver/ca/uhn/fhir/jpa/dao/IJpaServerInterceptor.html&quot;&gt;IJpaServerInterceptor&lt;/a&gt; interceptors for JPA server which can be used for more fine grained operations.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parser (XML and JSON) shouldn't encode an ID tag in resources which are part of a bundle when the resource has a UUID/OID ID. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/241&quot;&gt;241&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add ability for a server REST resource provider @Search method to declare that it should allow even parameters it doesn't understand.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correctly set the Bundle.type value on all pages of a search result in the server, and correcltly set the same value in JPA server $everything results. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/247&quot;&gt;247&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA $everything operations now support new parameters _content and _text, which work the same way as the same parameters on a search. This is experimental, since it is not a part of the core FHIR specification.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Process &quot;Accept: text/xml&quot; and &quot;Accept: text/json&quot; headers was wanting the equivalent FHIR encoding styles. These are not correct, but the intention is clear so we will honour them just to be helpful. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/250&quot;&gt;250&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Generated Enum types for some ValueSets did not include all codes (specifically, ValueSets which defined concepts containing child concepts did not result in Enum values for the child concepts)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In the JPA server, order of transaction processing should be DELETE, POST, PUT, GET, and the order should not matter within entries with the same verb. Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/253&quot;&gt;253&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add the ability to wire JPA conformance providers using Spring (basically, add default constructors and setters to the conformance providers). Thanks to C. Mike Bylund for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/254&quot;&gt;254&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a1.2&quot;&gt;Release 1.2 &amp;#x2013; 2015-09-18&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now validates QuestionnaireAnswers for conformance to their respective Questionnaire if one is declared.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;SyntaxHighlightingInterceptor now also highlights OperationOutcome responses for errors/exceptions.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Model classes do not use BoundCodeableConcept for example bindings that do not actually point to any codes (e.g. Observation.interpretation). Thanks to GitHub user @steve1medix for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/126&quot;&gt;126&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now exports operations as separate resources instead of as contained resources within Conformance&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add new operation $get-resource-counts which will replace the resource count extensions exported in the Conformance statement by the JPA server.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server sorting often returned unexpected orders when multiple indexes of the same type were found on the same resource (e.g. multiple string indexed fields). Thanks to Travis Cummings for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/198&quot;&gt;198&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add another method to IServerInterceptor which converts an exception generated on the server into a BaseServerResponseException. This is useful so that servers using ResponseHighlighterInterceptor will highlight exceptions even if they aren't created with an OperationOutcome.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;XmlParser and JsonParser in DSTU2 mode should not encode empty tags in resource. Thanks to Bill De Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/158&quot;&gt;158&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/icon_help_sml.gif&quot; alt=&quot;Unknown&quot; title=&quot;Unknown&quot; /&gt;&lt;/td&gt; &lt;td&gt;OperationDefinitions generated by server did not properly document their return parameters or the type of their input parameters.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/icon_help_sml.gif&quot; alt=&quot;Unknown&quot; title=&quot;Unknown&quot; /&gt;&lt;/td&gt; &lt;td&gt;Operations in server generated conformance statement should only appear once per name, since the name needs to be unique.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/icon_help_sml.gif&quot; alt=&quot;Unknown&quot; title=&quot;Unknown&quot; /&gt;&lt;/td&gt; &lt;td&gt;Resources and datatypes are now serializable. This is an experimental feature which hasn't yet been extensively tested. Please test and give us your feedback!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Switch REST server to using HttpServletRequest#getContextPath() to get the servlet's context path. This means that the server should behave more predictably, and should work in servlet 2.4 environments. Thanks to Ken Zeisset for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Vagrant environment now has an apt recipt to ensure that package lists are up to date. Thanks to GitHub user Brian S. Corbin (@corbinbs) for thr contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/200&quot;&gt;200&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server and generic client now both support the _tag search parameter&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for BATCH mode to JPA server transaction operation&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server was not correctly unescaping URL parameter values with a trailing comma or an escaped backslash. Thanks to GitHub user @SherryH for all of her help in diagnosing this issue!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/192&quot;&gt;192&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Avoid crash when parsing if an invalid child element is found in a resource reference.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Create new android specialty libraries for DSTU1 and DSTU2&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Throwing a server exception (e.g. AuthenticationException) in a server interceptor's incomingRequestPreProcessed method resulted in the server returning an HTTP 500 instead of the appropriate error code for the exception being thrown. Thanks to Nagesh Bashyam for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in JSON parser where invalid contained resources (missing a resourceType element) fail to parse with a confusing NullPointerException. Thanks to GitHub user @hugosoares for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/207&quot;&gt;207&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now implements the $validate-code operation&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI-FHIR now has support for _summary and _elements parameters, in server, client, and JPA server. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/125&quot;&gt;125&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;_revinclude results from JPA server should have a Bundle.entry.search.mode of &quot;include&quot; and not &quot;match&quot;. Thanks to Josh Mandel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/209&quot;&gt;209&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Resource references using resource instance objects instead of resource IDs will correctly qualify the IDs with the resource type if they aren't already qualified&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Testpage Overlay project now properly allows a custom client factory to be used (e.g. for custom authentication, etc.) Thanks to Chin Huang (@pukkaone) for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/211&quot;&gt;211&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server should reject IDs containing invalid characters (e.g. &quot;abc:123&quot;) but should allow client assigned IDs that contain text but do not start with text. Thanks to Josh Mandel for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/212&quot;&gt;212&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;:text modifier on server and JPA server did not work correctly. Thanks to Josh Mandel for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue in client where parameter values containing a comma were sometimes double escaped.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;_include parameters now support the new &lt;code&gt;_include:recurse=FOO&lt;/code&gt; syntax that has been introduced in DSTU2 in the Client, Server, and JPA Server modules. Non-recursive behaviour is now the default (previously it was recursive) and :recurse needs to be explicitly stated in order to support recursion.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;New operations added to JPA server to force re-indexing of all resources (really only useful after indexes change or bugs are fixed)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not correctly index search parameters of type &quot;URI&quot;. Thanks to David Hay for reporting! Note that if you are using the JPA server, this change means that there are two new tables added to the database schema. Updating existing resources in the database may fail unless you set default values for the resource table by issuing a SQL command similar to the following (false may be 0 or something else, depending on the database platform in use) &lt;br/&gt;&lt;code&gt;update hfj_resource set sp_coords_present = false;&lt;br/&gt; update hfj_resource set sp_uri_present = false;&lt;/code&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;FIx issue in JPA server where profile declarations, tags, and security labels were not always properly removed by an update that was trying to remove them. Also don't store duplicates.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Instance $meta operations on JPA server did not previously return the resource version and lastUpdated time&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server responses populate Bundle.entry.fullUrl if possible. Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;XML parser failed to initialize in environments where a very old Woodstox library is in use (earlier than 4.0). Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Invalid/unexpected attributes found when parsing composite elements should be logged or reported to the parser error handler. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/216&quot;&gt;216&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server can now store Conformance resources, per a request from David Hay&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;ResponseHighlightingInterceptor now skips handling responses if it finds a URL parameter of &lt;code&gt;_raw=true&lt;/code&gt; (in other words, if this parameter is found, the response won't be returned as HTML even if the request is detected as coming from a browser.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;RestfulServer now supports dynamically adding and removing resource providers at runtime. Thanks to Bill Denton for adding this.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now correctly suppresses contents of deleted resources in history&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server returned deleted resources in search results when using the _tag, _id, _profile, or _security search parameters. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/222&quot;&gt;222&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue with build on Windows. Thanks to Bryce van Dyk for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/223&quot;&gt;223&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports $validate operation completely, including delete mode and profile validation using the RI InstanceValidator&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a1.1&quot;&gt;Release 1.1 &amp;#x2013; 2015-07-13&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for reference implementation structures.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parsers did not encode the resource meta element if the resource had tags but no other meta elements. Thanks to Bill de Beaubien and Claude Nanjo for finding this.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct performance issue with :missing=true search requests where the parameter is a resource link. Thanks to wanghaisheng for all his help in testing this. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/164&quot;&gt;164&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;The self link in the Bundle returned by searches on the server does not respect the server's address strategy (which resulted in an internal IP being shown on fhirtest.uhn.ca). Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/149&quot;&gt;149&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduce ResponseHighlighterInterceptor, which provides syntax highlighting on RESTful server responses if the server detects that the request is coming from a browser. This interceptor has been added to fhirtest.uhn.ca responses.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Performing a create operation in a client used an incorrect URL if the resource had an ID set. ID should be ignored for creates. Thanks to Peter Girard for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add better addXXX() methods to structures, which take the datatype being added as a parameter. Thanks to Claude Nanjo for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/170&quot;&gt;170&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new parser validation mechanism (see the &lt;a href=&quot;./doc_validation.html&quot;&gt;validation page&lt;/a&gt; for info) which can be used to validate resources as they are being parsed, and optionally fail if invalid/unexpected elements are found in resource bodies during parsing. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/152&quot;&gt;152&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;IParser#parseResource(Class, String) method, which is used to parse a resource into the given structure will now throw a DataFormatException if the structure is for the wrong type of resource for the one actually found in the input String (or Reader). For example, if a Patient resource is being parsed into Organization.class this will now cause an error. Previously, the XML parser would ignore the type and the JSON parser would fail. This also caused operations to not parse correctly if they returned a resource type other than parameters with JSON encoding (e.g. the $everything operation on UHN's test server). Thanks to Avinash Shanbhag for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Web tester UI now supports _revinclude&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support link elements in Bundle.entry when parsing in DSTU2 mode using the old (non-resource) Bundle class. Thanks to GitHub user @joedai for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/178&quot;&gt;178&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;LoggingInterceptor for server now supports logging DSTU2 extended operations by name&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Woodstox XML parser has a default setting to limit the maximum length of an attribute to 512kb. This caused issues handling large attachments, so this setting has been increased to 100Mb. Thanks to Nikos Kyriakoulakos for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Some HTML entities were not correctly converted during parsing. Thanks to Nick Kitto for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/175&quot;&gt;175&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In the JPA Server: Transactions creating resources with temporary/placeholder resource IDs and other resources with references to those placeholder IDs previously did not work if the reference did not contain the resource type (e.g. Patient/urn:oid:0.1.2.3 instead of urn:oid:0.1.2.3). The latter is actually the correct way of specifying a reference to a placeholder, but the former was the only way that worked. Both forms now work, in order to be lenient. Thanks to Bill De Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When parsing Bundles, if Bundle.entry.base is set to &quot;cid:&quot; (for DSTU1) or &quot;urn:uuid:&quot; / &quot;urn:oid:&quot; (for DSTU2) this is now correctly passed as the base in resource.getId(). Conversely, when encoding bundles, if a resource ID has a base defined, and Bundle.entry.base is empty, it will now be automatically set by the parser.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add fluent client method for validate operation, and support the new DSTU2 style extended operation for $validate if the client is in DSTU2 mode. Thanks to Eric from the FHIR Skype Implementers chat for reporting. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/179&quot;&gt;179&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now supports complete Accept header content negotiation, including q values specifying order of preference. Previously the q value was ignored.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server in DSTU2 mode now indicates that whether it has support for Transaction operation or not. Thanks to Kevin Paschke for pointing out that this wasn't working!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Questionnaire.title now gets correctly indexed in JPA server (it has no path, so it is a special case). Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/166&quot;&gt;166&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports ifNoneMatch in GET within a transaction request.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateRangeParam now supports null values in the constructor for lower or upper bounds (but still not both)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Generic/fluent client and JPA server now both support _lastUpdated search parameter which was added in DSTU2&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server now supports sorting on reference parameters. Thanks to Vishal Kachroo for reporting that this wasn't working!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/188&quot;&gt;188&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent Last-Updated header in responses coming back to the client from overwriting the 'lastUpdated' value in the meta element in DSTU2 resources. This is important because 'lastUpdated' can have more precision than the equivalent header, but the client previously gave the header priority.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server supports _count parameter in transaction containing search URL (nested search)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DSTU2 servers now indicate support for conditional create/update/delete in their conformance statement.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support for the Prefer header has been added to the server, client, and JPA modules.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server failed to search for deep chained parameters across multiple references, e.g. &quot;Location.partof.partof.organization&quot;. Thanks to Ismael Sarmento Jr for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/196&quot;&gt;196&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent crash when encoding resources with contained resources if the contained resources contained a circular reference to each other&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add $meta, $meta-add, and $meta-delete operations to generic client&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a1.0&quot;&gt;Release 1.0 &amp;#x2013; 2015-04-08&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump the version of a few dependencies to the latest versions: &lt;ul&gt; &lt;li&gt;Phloc-commons (for schematron validation) 4.3.5 -&gt; 4.3.6&lt;/li&gt; &lt;li&gt;Apache HttpClient 4.3.6 -&gt; 4.4&lt;/li&gt; &lt;li&gt;Woodstox 4.4.0 -&gt; 4.4.1&lt;/li&gt; &lt;li&gt;SLF4j 1.7.9 -&gt; 1.7.10&lt;/li&gt; &lt;li&gt;Spring (used in hapi-fhir-jpaserver-base module) 4.1.3.RELEASE -&gt; 4.1.5.RELEASE&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for &quot;profile&quot; and &quot;tag&quot; elements in the resource Meta block when parsing DSTU2 structures.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;When a user manually creates the list of contained resources in a resource, the encoder fails to encode any resources that don't have a '#' at the start of their ID. This is unintuitive, so we now assume that '123' means '#123'. Thanks to myungchoi for reporting and providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/113&quot;&gt;113&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add methods for setting the default encoding (XML/JSON) and oretty print behaviour in the Fluent Client. Thanks to Stackoverflow user ewall for the idea.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA Server did not mark a resource as &quot;no longer deleted&quot; if it was updated after being deleted. Thanks to Elliott Lavy and Lloyd McKenzie for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/129&quot;&gt;129&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix regression in 0.9 - Server responds with an HTTP 500 and a NullPointerException instead of an HTTP 400 and a useful error message if the client requests an unknown resource type. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/128&quot;&gt;128&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for &lt;code&gt;_revinclude&lt;/code&gt; parameter in client, server, and JPA.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Include constants on resources (such as &lt;code&gt;Observation.INCLUDE_VALUE_STRING&lt;/code&gt;) have been switched in the DSTU2 structures to use the new syntax required in DSTU2: [resource name]:[search param NAME] insead of the DSTU1 style [resource name].[search param PATH]&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When encoding resources, the parser will now convert any resource references to versionless references automatically (i.e. it will omit the version part automatically if one is present in the reference) since references between resources must be versionless. Additionally, references in server responses will omit the server base URL part of the reference if the base matches the base for the server giving the response. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/124&quot;&gt;124&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Narrative generator incorrectly sets the Resource.text.status to 'generated' even if the given resource type does not have a template (and therefore no narrative is actually generated). Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/130&quot;&gt;130&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Searching in JPA server with no search parameter returns deleted resources when it should exclude them.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove Eclipse and IntelliJ artifacts (.project, *.iml, etc) from version control. Thanks to Doug Martin for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/135&quot;&gt;135&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;REST server methods may now have a parameter of type NarrativeModeEnum which will be populated with the value of the _narrative URL parameter if one was supplied. Annotation client methods may also include a parameter of this type, and it will be used to populate this parameter on the request URL if it is not null. Thanks to Neal Acharya for the idea!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Android JAR now includes servlet-API classes, as the project will not work without them. Thanks&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Requested _include values are preserved across paging links when the server returns multiple pages. Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/116&quot;&gt;116&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add new server address strategy &quot;ApacheProxyAddressStrategy&quot; which uses headers &quot;x-forwarded-host&quot; and &quot;x-forwarded-proto&quot; to determine the server's address. This is useful if you are deploying a HAPI FHIR server behind an Apache proxy (e.g. for load balancing or other reasons). Thanks to Bill de Beaubien for contributing!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/138&quot;&gt;138&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Resource references between separate resources found in a single bundle did not get populated with the actual resource when parsing a DSTU2 style bundle. Thanks to Nick Peterson for reporting and figuring out why none of our unit tests were actually catching the problem!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/143&quot;&gt;143&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON encoder did not encode contained resources when encoding a DSTU2 style bundle. Thanks to Mohammad Jafari and baopingle for all of their help in tracking this issue down and developing useful unit tests to demonstrate it. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/146&quot;&gt;146&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client now supports invoking transcation using a DSTU2-style Bundle resource as the input.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA Server $everything operation could sometimes include a duplicate copy of the main focus resource if it was referred to in a deep chain. Thanks to David Hay for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/147&quot;&gt;147&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA Server $everything operation now allows a _count parameter. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/148&quot;&gt;148&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server failed to index resources containing ContactPointDt elements with populated values (e.g. Patient.telecom). Thanks to Mohammad Jafari for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/139&quot;&gt;139&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new configuration method on the parsers, &lt;code&gt;setStripVersionsFromReferences(boolean)&lt;/code&gt; which configures the parser to preserve versions in resource reference links when encoding. By default, these are removed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Terser's IModelVisitor now supplies to the path to the element. This is an API change, but I don't think there are many users of the IModelVisitor yet. Please let us know if this is a big hardship and we can find an alternate way of making this change. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/155&quot;&gt;155&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Prevent server from returning a Content-Location header for search response when using the DSTU2 bundle format&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server (uhnfhirtest.uhn.ca) sometimes included an empty &quot;text&quot; element in Bundles being returned.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a framework for the Web Tester UI to allow its internal FHIR client to be configured (e.g. to add an authorization interceptor so that it adds credentials to client requests it makes). Thanks to Harsha Kumara for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/162&quot;&gt;162&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix regression in early 1.0 builds where resource type sometimes does not get populated in a resource ID when the resource is parsed. Thanks to Nick Peterson for reporting, and for providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/163&quot;&gt;163&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Allow fluent/generic client users to execute a transaction using a raw string (containing a bundle resource) as input instead of a Bundle resource class instance.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Disable date validation in the web tester UI, so that it is possible to enter partial dates, or dates without times, or even test out invalid date options.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Make BaseElement#getUndeclaredExtensions() and BaseElement#getUndeclaredExtensions() return a mutable list so that it is possible to delete extensions from a resource instance. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/36&quot;&gt;36&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server conformance statement check in clients (this is the check where the first time a given FhirContext is used to access a given server base URL, it will first check the server's Conformance statement to ensure that it supports the correct version of FHIR) now uses any registered client interceptors. In addition, IGenericClient now has a method &quot;forceConformanceCheck()&quot; which manually triggers this check. Thanks to Doug Martin for reporting and suggesting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/168&quot;&gt;168&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Rename the Spring Bean definition for the JPA server EntityManager from &quot;myEntityManagerFactory&quot; to just &quot;entityManagerFactory&quot; as this is the default bean name expected in other parts of the Spring framework. Thanks to Mohammad Jafari for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/167&quot;&gt;167&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Improve error message when a user tries to perform a create/update with an invalid or missing Content-Type header. Thanks to wanghaisheng for reporting! (This was actually a three part bug, so the following two fixes also reference this bug number). Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/164&quot;&gt;164&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for :missing qualifier in generic/fluent client. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/164&quot;&gt;164&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for :missing qualifier in JPA server. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/164&quot;&gt;164&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new configuration method on the parsers, &lt;code&gt;setStripVersionsFromReferences(boolean)&lt;/code&gt; which configures the parser to preserve versions in resource reference links when encoding. By default, these are removed.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add an exception for RESTful clients/servers to represent the HTTP 403 Forbidden status code. Thanks to Joel Costigliola for the patch!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/171&quot;&gt;171&lt;/a&gt;. Thanks to joel-costigliola.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Transaction server operations incorrectly used the &quot;Accept&quot; header instead of the &quot;Content-Type&quot; header to determine the POST request encoding. Thanks to Rene Spronk for providing a test case!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.9&quot;&gt;Release 0.9 &amp;#x2013; 2015-03-14&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support for DSTU2 features introduced: New resource definitions, Bundle resource, encoding changes (ID in resource bodt, meta tag)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix an issue encoding extensions on primitive types in JSON. Previously the &quot;_value&quot; object would be an array even if the field it was extending was not repeatable. This is not correct according to the specification, nor can HAPI's parser parse this correctly. The encoder has been corrected, and the parser has been adjusted to be able to handle resources with extensions encoded in this way. Thanks to Mohammad Jafari for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/65&quot;&gt;65&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Library now checks if custom resource types can be instantiated on startup (e.g. because they don't have a no-argument constructor) in order to avoid failing later&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump a few dependency JARs to the latest versions in Maven POM: &lt;ul&gt; &lt;li&gt;SLF4j (in base module) - Bumped to 1.7.9&lt;/li&gt; &lt;li&gt;Apache HTTPClient (in base module) - Bumped to 4.3.6&lt;/li&gt; &lt;li&gt;Hibernate (in JPA module) - Bumped to 4.3.7&lt;/li&gt; &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;IdDt failed to recognize local identifiers containing fragments that look like real identifiers as being local identifiers even though they started with '#'. For example, a local resource reference of &quot;#aa/_history/aa&quot; would be incorrectly parsed as a non-local reference. Thanks to Mohammad Jafari for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/67&quot;&gt;67&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;code&gt;Last-Modified&lt;/code&gt; header in server was incorrectly using FHIR date format instead of RFC-1123 format.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server create and update methods failed with an IllegalArgumentException if the method type was a custom resource definition type (instead of a built-in HAPI type). Thanks to Neal Acharya for the analysis.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server module now supports &lt;code&gt;_include&lt;/code&gt; value of &lt;code&gt;*&lt;/code&gt;. Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/79&quot;&gt;79&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;IdDt method withServerBase returned String (unlike all of the other &quot;withFoo&quot; methods on that class), and did not work correctly if the IdDt already had a server base. This has been corrected. Note that the return type for this method has been changed, so code may need to be updated.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;In previous versions of HAPI, the XML parser encoded multiple contained resources in a single &lt;code&gt;&amp;lt;contained&amp;gt;&amp;lt;/contained&amp;gt;&lt;/code&gt; tag, even though the FHIR specification rerquires a separate &lt;code&gt;&amp;lt;contained&amp;gt;&amp;lt;/contained&amp;gt;&lt;/code&gt; tag for each resource. This has been corrected. Note that the parser will correctly parse either form (this has always been the case) so this change should not cause any breakage in HAPI based trading partners, but may cause issues if other applications have been coded to depend on the incorrect behaviour. Thanks to Mochaholic for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/84&quot;&gt;84&lt;/a&gt;. Thanks to mochaholic.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Custom/user defined resource definitions which contained more than one child with no order defined failed to initialize properly. Thanks to Andy Huang for reporting and figuring out where the problem was!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/91&quot;&gt;91&lt;/a&gt;. Thanks to andyhuang91.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;RESTful Client now queries the server (only once per server base URL) to ensure that the given server corresponds to the correct version of the FHIR specification, as defined by the FhirContext. This behaviour can be disabled by setting the appropriate configuration on the RestfulClientConfig. Thanks to Grahame Grieve for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA module now supports deleting resource via transaction&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateClientParam#second() incorrectly used DAY precision instead of SECOND precision. Thanks to Tom Wilson for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/97&quot;&gt;97&lt;/a&gt;. Thanks to twilson650.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue where HAPI failed to initialize correctly if Woodstox library was not on the classpath, even if StAX API was configured to use a different provider. Thanks to James Butler for reporting and figuring out where the issue was!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/100&quot;&gt;100&lt;/a&gt;. Thanks to sweetnavelorange.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Calling BaseDateTimeDt#setValue(Date, TemporalPrecisionEnum) did not always actually respect the given precision when the value was encoded. Thanks to jacksonjesse for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/101&quot;&gt;101&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Encoders (both XML and JSON) will no longer encode contained resources if they are not referenced anywhere in the resource via a local reference. This is just a convenience for users who have parsed a resource with contained resources and want to remove some before re-encoding. Thanks to Alexander Kley for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/103&quot;&gt;103&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for DSTU2 style security labels in the parser and encoder. Thanks to Mohammad Jafari for the contribution!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/110&quot;&gt;110&lt;/a&gt;. Thanks to mochaholic.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server requests for Binary resources where the client has explicitly requested XML or JSON responses (either with a &lt;code&gt;_format&lt;/code&gt; URL parameter, or an &lt;code&gt;Accept&lt;/code&gt; request header) will be responded to using the Binary FHIR resource type instead of as Binary blobs. This is in accordance with the recommended behaviour in the FHIR specification.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add new properties to RestfulServer: &quot;DefaultResponseEncoding&quot;, which allows users to configure a default encoding (XML/JSON) to use if none is specified in the client request. Currently defaults to XML. Also &quot;DefaultPrettyPrint&quot;, which specifies whether to pretty print responses by default. Both properties can be overridden on individual requets using the appropriate Accept header or request URL parameters.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for quantity search params in FHIR tester UI&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for FHIR &quot;extended operations&quot; as defined in the FHIR DSTU2 specification, for the Generic Client, Annotation Client, and Server.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Observation.applies[x] and other similar search fields with multiple allowable value types were not being correctly indexed in the JPA server.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateClientParam.before() incorrectly placed &quot;&lt;=&quot; instead of &quot;&lt;&quot; in the request URL. Thanks to Ryan for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/122&quot;&gt;122&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now only automatically adds _include resources which are provided as references if the client request actually requested that specific include. See RestfulServer. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/77&quot;&gt;77&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;User defined resource types which contain extensions that use a bound code type (e.g. an BoundCodeDt with a custom Enum) failed to parse correctly. Thanks to baopingle for reporting and providing a test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/120&quot;&gt;120&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Sorting is now supported in the Web Testing UI (previously a button existed for sorting, but it didn't do anything)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server will no longer include stack traces in the OperationOutcome returned to the client when an exception is thrown. A new interceptor called ExceptionHandlingInterceptor has been created which adds this functionality back if it is needed (e.g. for DEV setups). See the server interceptor documentation for more information. Thanks to Andy Huang for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/111&quot;&gt;111&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.8&quot;&gt;Release 0.8 &amp;#x2013; 2014-12-17&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;a&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;b&gt;API CHANGE:&lt;/b&gt; The &quot;FHIR structures&quot; for DSTU1 (the classes which model the resources and composite datatypes) have been moved out of the core JAR into their own JAR, in order to allow support for DEV resources, and DSTU2 resources when thast version is finalized. See the &lt;a href=&quot;./doc_dstu2.html&quot;&gt;DSTU2 page&lt;/a&gt; for more information.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;b&gt;Deprocated API Removal&lt;/b&gt;: The following classes (which were deprocated previously) have now been removed: &lt;ul&gt; &lt;li&gt;&lt;b&gt;ISecurityManager&lt;/b&gt;: If you are using this class, the same functionality is available through the more general purpose &lt;a href=&quot;http://jamesagnew.github.io/hapi-fhir/doc_rest_server_interceptor.html&quot;&gt;server interceptor&lt;/a&gt; capabilities. &lt;li&gt;&lt;b&gt;CodingListParam&lt;/b&gt;: This class was made redundant by the &lt;a href=&quot;http://jamesagnew.github.io/hapi-fhir/apidocs/ca/uhn/fhir/rest/param/TokenOrListParam.html&quot;&gt;TokenOrListParam&lt;/a&gt; class, which can be used in its place. &lt;/ul&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;b&gt;API Change&lt;/b&gt;: The IResource#getResourceMetadata() method has been changed from returning &lt;code&gt;Map&amp;lt;ResourceMetadataKeyEnum&amp;lt;?&amp;gt;, Object&amp;gt;&lt;/code&gt; to returning a new type called &lt;code&gt;ResourceMetadataMap&lt;/code&gt;. This new type implements &lt;code&gt;Map&amp;lt;ResourceMetadataKeyEnum&amp;lt;?&amp;gt;, Object&amp;gt;&lt;/code&gt; itself, so this change should not break existing code, but may require a clean build in order to run correctly.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Profile generation on the server was not working due to IdDt being incorrectly used. Thanks to Bill de Beaubien for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/38&quot;&gt;38&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Profiles did not generate correctly if a resource definition class had a defined extension which was of a composite type. Thanks to Bill de Beaubien for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/42&quot;&gt;42&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove unnecessary IOException from narrative generator API. Thanks to Petro Mykhailysyn for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/44&quot;&gt;44&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#petromykhailysyn&quot;&gt;petromykhailysyn&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduced a new &lt;code&gt;@ProvidesResources&lt;/code&gt; annotation which can be added to resource provider and servers to allow them to declare additional resource classes they are able to serve. This is useful if you have a server which can serve up multiple classes for the same resource type (e.g. a server that sometimes returns a default Patient, but sometimes uses a custom subclass). Thanks to Bill de Beaubien for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/48&quot;&gt;48&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduced a new &lt;code&gt;@Destroy&lt;/code&gt; annotation which can be added to a resource provider method. This method will be called by the server when it is being closed/destroyed (e.g. when the application is being undeployed, the container is being shut down, etc.) Thanks to Bill de Beaubien for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/49&quot;&gt;49&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new method handleException to the server interceptor framework which allows interceptors to be notified of any exceptions and runtime errors within server methods. Interceptors may optionally also override the default error handling behaviour of the RestfulServer.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add constants to BaseResource for the &quot;_id&quot; search parameter which all resources should support.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateRangeParam parameters on the server now return correct &lt;code&gt;getLowerBoundAsInstant()&lt;/code&gt; and &lt;code&gt;getUpperBoundAsInstant()&lt;/code&gt; values if a single unqualified value is passed in. For example, if a query containing &lt;code&gt;&amp;birthdate=2012-10-01&lt;/code&gt; is received, previously these two methods would both return the same value, but with this fix &lt;code&gt;getUpperBoundAsInstant()&lt;/code&gt; now returns the instant at 23:59:59.9999.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Resource fields with a type of &quot;*&quot; (or Any) sometimes failed to parse if a value type of &quot;code&quot; was used. Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Remove dependency on JAXB libraries, which were used to parse and encode dates and times (even in the JSON parser). JAXB is built in to most JDKs but the version bundled with IBM's JDK is flaky and resulted in a number of problems when deploying to Websphere.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#lmds&quot;&gt;lmds&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Primitive datatypes now preserve their original string value when parsing resources, as well as containing the &quot;parsed value&quot;. For instance, a DecimalDt field value of &lt;code&gt;1.0000&lt;/code&gt; will be parsed into the corresponding decimal value, but will also retain the original value with the corresponding level of precision. This allows vadliator rules to be applied to original values as received &quot;over the wire&quot;, such as well formatted but invalid dates, e.g. &quot;2001-15-01&quot;. Thanks to Joe Athman for reporting and helping to come up with a fix!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/50&quot;&gt;50&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#jjathman&quot;&gt;jjathman&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;When using Generic Client, if performing a create or update operation using a String as the resource body, the client will auto-detect the FHIR encoding style and send an appropriate Content-Type header.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA module (and public HAPI-FHIR test server) were unable to process resource types where at least one search parameter has no path specified. These now correctly save (although the server does not yet process these params, and it should). Thanks to GitHub user shvoidlee for reporting and help with analysis!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/52&quot;&gt;52&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Generic/Fluent Client &quot;create&quot; and &quot;update&quot; method requests were not setting a content type header&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateDt left precision value as null in the constructor DateDt(Date). Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/53&quot;&gt;53&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#petromykhailysyn&quot;&gt;petromykhailysyn&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;RESTful server now doesn't overwrite resource IDs if they are absolute. In other words, if a server's Resource Provider returns a resource with ID &quot;Patient/123&quot; it will be translated to &quot;[base url]/Patient/123&quot; but if the RP returns ID &quot;http://foo/Patient/123&quot; the ID will be returned exactly as is. Thanks to Bill de Beaubien for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA module Transaction operation was not correctly replacing logical IDs beginning with &quot;cid:&quot; with server assigned IDs, as required by the specification. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/55&quot;&gt;55&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;FhirTerser did not visit or find children in contained resources when searching a resource. This caused server implementations to not always return contained resources when they are included with a resource being returned.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#tahurac&quot;&gt;tahurac&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a method String IResource#getResourceName() which returns the name of the resource in question (e.g. &quot;Patient&quot;, or &quot;Observation&quot;). This is intended as a convenience to users.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#lmds&quot;&gt;lmds&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Do not strip version from resource references in resources returned from server search methods. Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Correct an issue with the validator where changes to the underlying OperationOutcome produced by a validation cycle cause the validation results to be incorrect. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/54&quot;&gt;54&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#jjathman&quot;&gt;jjathman&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client interceptors registered to an interface based client instance were applied to other client instances for the same client interface as well. (Issue did not affect generic/fluent clients)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;DateDt, DateTimeDt and types InstantDt types now do not throw an exception if they are used to parse a value with the wrong level of precision for the given type but do throw an exception if the wrong level of precision is passed into their constructors.&lt;br/&gt;&lt;br/&gt; This means that HAPI FHIR can now successfully parse resources from external sources that have the wrong level of precision, but will generate a validation error if the resource is validated. Thanks to Alexander Kley for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/57&quot;&gt;57&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Encoding a Binary resource without a content type set should not result in a NullPointerException. Thanks to Alexander Kley for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server gives a more helpful error message if multiple IResourceProvider implementations are provided for the same resource type. Thanks to wanghaisheng for the idea!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bring DSTU1 resource definitions up to version 0.0.82-2929&lt;br/&gt; Bring DEV resource definitions up to 0.4.0-3775&lt;br/&gt; Thanks to crinacimpian for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/61&quot;&gt;61&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;JPA server did not correctly process _include requests if included resources were present with a non-numeric identifier. Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/62&quot;&gt;62&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client requests which include a resource/bundle body (e.g. create, update, transaction) were not including a charset in the content type header, leading to servers incorrectly assuming ISO-8859/1. Thanks to shvoidlee for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/60&quot;&gt;60&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Clean up the way that Profile resources are automatically exported by the server for custom resource profile classes. See the &lt;a href=&quot;http://jamesagnew.github.io/hapi-fhir/apidocs/ca/uhn/fhir/model/api/annotation/ResourceDef.html&quot;&gt;@ResourceDef&lt;/a&gt; JavaDoc for information on how this works. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/59&quot;&gt;59&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add convenience methods to TokenOrListParam to test whether any of a set of tokens match the given requested list. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/73&quot;&gt;73&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#wdebeau1&quot;&gt;wdebeau1&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a protected method to RestfulServer which allows developers to implement their own method for determining which part of the request URL is the FHIR request path (useful if you are embedding the RestulServer inside of another web framework). Thanks to Harsha Kumara for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/86&quot;&gt;86&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#harsha89&quot;&gt;harsha89&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.7&quot;&gt;Release 0.7 &amp;#x2013; 2014-10-23&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;b&gt;API CHANGE:&lt;/b&gt; The TagList class previously implemented ArrayList semantics, but this has been replaced with LinkedHashMap semantics. This means that the list of tags will no longer accept duplicate tags, but that tag order will still be preserved. Thanks to Bill de Beaubien for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/30&quot;&gt;30&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server was incorrectly including contained resources being returned as both contained resources, and as top-level resources in the returned bundle for search operations. Thanks to Bill de Beaubien for reporting! This also fixes Issue #20, thanks to lephty for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/33&quot;&gt;33&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Documentation fixes&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#suranga&quot;&gt;suranga&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a collection of new methods on the generic client which support the &lt;b&gt;&lt;a href=&quot;./apidocs/ca/uhn/fhir/rest/client/IGenericClient.html#read(java.lang.Class,%20ca.uhn.fhir.model.primitive.UriDt)&quot;&gt;read&lt;/a&gt;&lt;/b&gt;, &lt;b&gt;&lt;a href=&quot;./apidocs/ca/uhn/fhir/rest/client/IGenericClient.html#vread(java.lang.Class,%20ca.uhn.fhir.model.primitive.UriDt)&quot;&gt;read&lt;/a&gt;&lt;/b&gt;, and &lt;b&gt;&lt;a href=&quot;./apidocs/ca/uhn/fhir/rest/client/IGenericClient.html#search(java.lang.Class,%20ca.uhn.fhir.model.primitive.UriDt)&quot;&gt;search&lt;/a&gt;&lt;/b&gt; operations using an absolute URL. This allows developers to perform these operations using URLs they obtained from other sources (or external resource references within resources). In addition, the existing read/vread operations will now access absolute URL references if they are passed in. Thanks to Doug Martin of the Regenstrief Center for Biomedical Informatics for contributing this implementation!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#dougmartin&quot;&gt;dougmartin&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server implementation was not correctly figuring out its own FHIR Base URL when deployed on Amazon Web Service server. Thanks to Jeffrey Ting and Bill De Beaubien of Systems Made Simple for their help in figuring out this issue!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;XML Parser failed to encode fields with both a resource reference child and a primitive type child. Thanks to Jeffrey Ting and Bill De Beaubien of Systems Made Simple for their help in figuring out this issue!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI now runs successfully on Servlet 2.5 containers (such as Tomcat 6). Thanks to Bernard Gitaadji for reporting and diagnosing the issue!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Summary (in the bundle entry) is now encoded by the XML and JSON parsers if supplied. Thanks to David Hay of Orion Health for reporting this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Conformance profiles which are automatically generated by the server were missing a few mandatory elements, which meant that the profile did not correctly validate. Thanks to Bill de Beaubien of Systems Made Simple for reporting this!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/24&quot;&gt;24&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;XHTML (in narratives) containing escapable characters (e.g. &lt; or &quot;) will now always have those characters escaped properly in encoded messages.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Resources containing entities which are not valid in basic XML (e.g. &amp;sect;) will have those entities converted to their equivalent unicode characters when resources are encoded, since FHIR does not allow extended entities in resource instances.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a new client interceptor which adds HTTP Authorization Bearer Tokens (for use with OAUTH2 servers) to client requests.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add phloc-commons dependency explicitly, which resolves an issue building HAPI from source on some platforms. Thanks to Odysseas Pentakalos for the patch!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI now logs a single line indicating the StAX implementation being used upon the first time an XML parser is created.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Update methods on the server did not return a &quot;content-location&quot; header, but only a &quot;location&quot; header. Both are required according to the FHIR specification. Thanks to Bill de Beaubien of Systems Made Simple for reporting this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parser failed to correctly read contained Binary resources. Thanks to Alexander Kley for the patch!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/26&quot;&gt;26&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#akley&quot;&gt;akley&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Calling encode multiple times on a resource with contained resources caused the contained resources to be re-added (and the actual message to grow) with each encode pass. Thanks to Alexander Kley for the test case!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/29&quot;&gt;29&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#akley&quot;&gt;akley&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON-encoded contained resources with the incorrect &quot;_id&quot; element (which should be &quot;id&quot;, but some incorrect examples exist on the FHIR specification) now parse correctly. In other words, HAPI previously only accepted the correct &quot;id&quot; element, but now it also accepts the incorrect &quot;_id&quot; element just to be more lenient.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Several unit tests failed on Windows (or any platform with non UTF-8 default encoding). This may have also caused resource validation to fail occasionally on these platforms as well. Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;toString() method on TokenParam was incorrectly showing the system as the value. Thanks to Bill de Beaubien for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/update.gif&quot; alt=&quot;Update&quot; title=&quot;Update&quot; /&gt;&lt;/td&gt; &lt;td&gt;Documentation on contained resources contained a typo and did not actually produce contained resources. Thanks to David Hay of Orion Health for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a &lt;a href=&quot;https://www.vagrantup.com/&quot;&gt;Vagrant&lt;/a&gt; based environment (basically a fully built, self contained development environment) for trying out the HAPI server modules. Thanks to Preston Lee for the pull request, and for offering to maintain this!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/31&quot;&gt;31&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#preston&quot;&gt;preston&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Change validation API so that it uses a return type instead of exceptions to communicate validation failures. Thanks to Joe Athman for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/32&quot;&gt;32&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#jjathman&quot;&gt;jjathman&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add a client interceptor which adds an HTTP cookie to each client request. Thanks to Petro Mykhailysyn for the pull request!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/35&quot;&gt;35&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#petromykhailysyn&quot;&gt;petromykhailysyn&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.6&quot;&gt;Release 0.6 &amp;#x2013; 2014-09-08&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;a&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add server interceptor framework, and new interceptor for logging incoming requests.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add server validation framework for validating resources against the FHIR schemas and schematrons&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Tester UI created double _format and _pretty param entries in searches. Thanks to Gered King of University Health Network for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Create method was incorrectly returning an HTTP 204 on sucessful completion, but should be returning an HTTP 200 per the FHIR specification. Thanks to wanghaisheng for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/4&quot;&gt;4&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;FHIR Tester UI now correctly sends UTF-8 charset in responses so that message payloads containing non US-ASCII characters will correctly display in the browser&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON parser was incorrectly encoding extensions on composite elements outside the element itself (as is done correctly for non-composite elements) instead of inside of them. Thanks to David Hay of Orion for reporting this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Contained/included resource instances received by a client are now automatically added to any ResourceReferenceDt instancea in other resources which reference them.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add documentation on how to use eBay CORS Filter to support Cross Origin Resource Sharing (CORS) to server. CORS support that was built in to the server itself has been removed, as it did not work correctly (and was reinventing a wheel that others have done a great job inventing). Thanks to Peter Bernhardt of Relay Health for all the assistance in testing this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;IResource interface did not expose the getLanguage/setLanguage methods from BaseResource, so the resource language was difficult to access.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON Parser now gives a more friendly error message if it tries to parse JSON with invalid use of single quotes&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Transaction server method is now allowed to return an OperationOutcome in addition to the incoming resources. The public test server now does this in order to return status information about the transaction processing.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Update method in the server can now flag (via a field on the MethodOutcome object being returned) that the result was actually a creation, and Create method can indicate that it was actually an update. This has no effect other than to switch between the HTTP 200 and HTTP 201 status codes on the response, but this may be useful in some circumstances.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Annotation client search methods with a specific resource type (e.g. List&lt;Patient&gt; search()) won't return any resources that aren't of the correct type that are received in a response bundle (generally these are referenced resources, so they are populated in the reference fields instead). Thanks to Tahura Chaudhry of University Health Network for the unit test!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#tahurac&quot;&gt;tahurac&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Added narrative generator template for OperationOutcome resource&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Date/time types did not correctly parse values in the format &quot;yyyymmdd&quot; (although the FHIR-defined format is &quot;yyyy-mm-dd&quot; anyhow, and this is correctly handled). Thanks to Jeffrey Ting of Systems Made Simple for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server search method for an unnamed query gets called if the client requests a named query with the same parameter list. Thanks to Neal Acharya of University Health Network for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Category header (for tags) is correctly read in client for &quot;read&quot; operation&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Transaction method in server can now have parameter type Bundle instead of List&lt;IResource&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI parsers now use field access to get/set values instead of method accessors and mutators. This should give a small performance boost.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;JSON parser encodes resource references incorrectly, using the name &quot;resource&quot; instead of the name &quot;reference&quot; for the actual reference. Thanks to Ricky Nguyen for reporting and tracking down the issue!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Rename NotImpementedException to NotImplementedException (to correct typo)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server setUseBrowserFriendlyContentType setting also respected for errors (e.g. OperationOutcome with 4xx/5xx status)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix performance issue in date/time datatypes where pattern matchers were not static&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now gives a more helpful error message if a @Read method has a search parameter (which is invalid, but previously lead to a very unhelpful error message). Thanks to Tahura Chaudhry of UHN for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Resource of type &quot;List&quot; failed to parse from a bundle correctly. Thanks to David Hay of Orion Health for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;QuantityParam correctly encodes approximate (~) prefix to values&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;If a server defines a method with parameter &quot;_id&quot;, incoming search requests for that method may get delegated to the wrong method. Thanks to Neal Acharya for reporting!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/14&quot;&gt;14&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;SecurityEvent.Object structural element has been renamed to SecurityEvent.ObjectElement to avoid conflicting names with the java Object class. Thanks to Laurie Macdougall-Sookraj of UHN for reporting!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Text/narrative blocks that were created with a non-empty namespace prefix (e.g. &lt;xhtml:div xmlns:xhtml=&quot;...&quot;&gt;...&lt;/xhtml:div&gt;) failed to encode correctly (prefix was missing in encoded resource)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Resource references previously encoded their children (display and reference) in the wrong order so references with both would fail schema validation.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;SecurityEvent resource's enums now use friendly enum names instead of the unfriendly numeric code values. Thanks to Laurie MacDougall-Sookraj of UHN for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.5&quot;&gt;Release 0.5 &amp;#x2013; 2014-07-30&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;a&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;HAPI has a number of RESTful method parameter types that have similar but not identical purposes and confusing names. A cleanup has been undertaken to clean this up. This means that a number of existing classes have been deprocated in favour of new naming schemes. &lt;br/&gt;&lt;br/&gt; All annotation-based clients and all server search method parameters are now named (type)Param, for example: StringParam, TokenParam, etc. &lt;br/&gt;&lt;br/&gt; All generic/fluent client method parameters are now named (type)ClientParam, for example: StringClientParam, TokenClientParam, etc. &lt;br/&gt;&lt;br/&gt; All renamed classes have been retained and deprocated, so this change should not cause any issues for existing applications but those applications should be refactored to use the new parameters when possible.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Allow server methods to return wildcard generic types (e.g. List&lt;? extends IResource&gt;)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Search parameters are not properly escaped and unescaped. E.g. for a token parameter such as &quot;&amp;identifier=system|codepart1\|codepart2&quot;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for OPTIONS verb (which returns the server conformance statement)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for CORS headers in server&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bump SLF4j dependency to latest version (1.7.7)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add interceptor framework for clients (annotation based and generic), and add interceptors for configurable logging, capturing requests and responses, and HTTP basic auth.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Transaction client invocations with XML encoding were using the wrong content type (&quot;application/xml+fhir&quot; instead of the correct &quot;application/atom+xml&quot;). Thanks to David Hay of Orion Health for surfacing this one!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Bundle entries now support a link type of &quot;search&quot;. Thanks to David Hay for the suggestion!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;If a client receives a non 2xx response (e.g. HTTP 500) and the response body is a text/plain message or an OperationOutcome resource, include the message in the exception message so that it will be more conveniently displayed in logs and other places. Thanks to Neal Acharya for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/1&quot;&gt;1&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Read invocations in the client now process the &quot;Content-Location&quot; header and use it to populate the ID of the returned resource. Thanks to Neal Acharya for the suggestion!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/2&quot;&gt;2&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix issue where vread invocations on server incorrectly get routed to instance history method if one is defined. Thanks to Neal Acharya from UHN for surfacing this one!. Fixes &lt;a class=&quot;externalLink&quot; href=&quot;https://github.com/jamesagnew/hapi-fhir/issues/3&quot;&gt;3&lt;/a&gt;.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Binary reads on a server not include the Content-Disposition header, to prevent HTML in binary blobs from being used for nefarious purposes. See &lt;a href=&quot;http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=3298&quot;&gt;FHIR Tracker Bug 3298&lt;/a&gt; for more information.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support has been added for using an HTTP proxy for outgoing requests.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix: Primitive extensions declared against custom resource types are encoded even if they have no value. Thanks to David Hay of Orion for reporting this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Fix: RESTful server deployed to a location where the URL to access it contained a space (e.g. a WAR file with a space in the name) failed to work correctly. Thanks to David Hay of Orion for reporting this!&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.4&quot;&gt;Release 0.4 &amp;#x2013; 2014-07-13&lt;/h3&gt; &lt;table border=&quot;0&quot; class=&quot;bodyTable&quot;&gt; &lt;tr class=&quot;b&quot;&gt; &lt;th&gt;Type&lt;/th&gt; &lt;th&gt;Changes&lt;/th&gt; &lt;th&gt;By&lt;/th&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;b&gt;BREAKING CHANGE:&lt;/b&gt;: IdDt has been modified so that it contains a partial or complete resource identity. Previously it contained only the simple alphanumeric id of the resource (the part at the end of the &quot;read&quot; URL for that resource) but it can now contain a complete URL or even a partial URL (e.g. &quot;Patient/123&quot;) and can optionally contain a version (e.g. &quot;Patient/123/_history/456&quot;). New methods have been added to this datatype which provide just the numeric portion. See the JavaDoc for more information.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;b&gt;API CHANGE:&lt;/b&gt;: Most elements in the HAPI FHIR model contain a getId() and setId() method. This method is confusing because it is only actually used for IDREF elements (which are rare) but its name makes it easy to confuse with more important identifiers. For this reason, these methods have been deprocated and replaced with get/setElementSpecificId() methods. The old methods will be removed at some point. Resource types are unchanged and retain their get/setId methods.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Allow use of QuantityDt as a service parameter to support the &quot;quantity&quot; type. Previously QuantityDt did not implement IQueryParameterType so it was not valid, and there was no way to support quantity search parameters on the server (e.g. Observation.value-quantity)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Introduce StringParameter type which can be used as a RESTful operation search parameter type. StringParameter allows &quot;:exact&quot; matches to be specified in clients, and handled in servers.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Parsers (XML/JSON) now support deleted entries in bundles&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Transaction method now supported in servers&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support for Binary resources added (in servers, clients, parsers, etc.)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support for Query resources fixed (in parser)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Nested contained resources (e.g. encoding a resource with a contained resource that itself contains a resource) now parse and encode correctly, meaning that all contained resources are placed in the &quot;contained&quot; element of the root resource, and the parser looks in the root resource for all container levels when stitching contained resources back together.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server methods with @Include parameter would sometimes fail when no _include was actually specified in query strings.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Client requests for IdentifierDt types (such as Patient.identifier) did not create the correct query string if the system is null.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Add support for paging responses from RESTful servers.&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Don't fail on narrative blocks in JSON resources with only an XML declaration but no content (these are produced by the Health Intersections server)&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server now automatically compresses responses if the client indicates support&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Server failed to support optional parameters when type is String and :exact qualifier is used&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;b&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/fix.gif&quot; alt=&quot;Fix&quot; title=&quot;Fix&quot; /&gt;&lt;/td&gt; &lt;td&gt;Read method in client correctly populated resource ID in returned object&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt; &lt;tr class=&quot;a&quot;&gt; &lt;td&gt;&lt;img src=&quot;images/add.gif&quot; alt=&quot;Add&quot; title=&quot;Add&quot; /&gt;&lt;/td&gt; &lt;td&gt;Support added for deleted-entry by/name, by/email, and comment from Tombstones spec&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;team-list.html#null&quot;&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.3&quot;&gt;Release 0.3 &amp;#x2013; 2014-05-12&lt;/h3&gt; &lt;p&gt;No changes in this release.&lt;/p&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.2&quot;&gt;Release 0.2 &amp;#x2013; 2014-04-23&lt;/h3&gt; &lt;p&gt;No changes in this release.&lt;/p&gt;&lt;/div&gt; &lt;div class=&quot;section&quot;&gt; &lt;h3 id=&quot;a0.1&quot;&gt;Release 0.1 &amp;#x2013; 2014-04-15&lt;/h3&gt; &lt;p&gt;No changes in this release.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</td> 
    </tr> 
   </tbody> 
  </table> 
 </div> 
</div>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#HAPI_FHIR_Changelog" title="HAPI FHIR Changelog">HAPI FHIR Changelog <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#Release_History" title="Release History">Release History</a>
		<li><a href="#a340" title="Release 3.4.0 – 2018-05-28">Release 3.4.0 – 2018-05-28</a>
				<li class="divider"></li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">HAPI FHIR</li>
						<li >
							<a href="index.html" title="Home">Home</a>
						</li>
						<li >
							<a href="download.html"  title="Download"><i class="fa fa-download"></i> Download</a>
						</li>
						<li class="active">
							<a href="#" title="Changelog">Changelog</a>
						</li>
						<li >
							<a href="license.html" title="License">License</a>
						</li>
						<li class="nav-header">Test Server</li>
						<li >
							<a href="http://hapi.fhir.org" title="Public Test Server" class="externalLink">Public Test Server</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Using HAPI</li>
						<li >
							<a href="docindex.html" title="Documentation Index">Documentation Index</a>
						</li>
						<li >
							<a href="doc_cli.html" title="Command Line Tool (cli)">Command Line Tool (cli)</a>
						</li>
						<li class="nav-header">Contribute</li>
						<li >
							<a href="hacking_hapi_fhir.html" title="Guide to Hacking HAPI">Guide to Hacking HAPI</a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">JavaDocs</li>
						<li >
							<a href="apidocs/index.html" title="Core API">Core API</a>
						</li>
						<li >
							<a href="apidocs-dstu/index.html" title="Model API (DSTU1)">Model API (DSTU1)</a>
						</li>
						<li >
							<a href="apidocs-dstu2/index.html" title="Model API (DSTU2)">Model API (DSTU2)</a>
						</li>
						<li >
							<a href="apidocs-dstu3/index.html" title="Model API (DSTU3)">Model API (DSTU3)</a>
						</li>
						<li >
							<a href="apidocs-jpaserver/index.html" title="JPA Server API">JPA Server API</a>
						</li>
						<li class="nav-header">JXR</li>
						<li >
							<a href="xref-base/index.html" title="Core">Core</a>
						</li>
						<li >
							<a href="xref-jpaserver/index.html" title="JPA Server">JPA Server</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Get Help</li>
						<li >
							<a href="https://github.com/jamesagnew/hapi-fhir/wiki/Getting-Help" title="How to Ask for Help (read this first!)" class="externalLink">How to Ask for Help (read this first!)</a>
						</li>
						<li >
							<a href="https://groups.google.com/d/forum/hapi-fhir" title="Google Group (Ask Questions)" class="externalLink">Google Group (Ask Questions)</a>
						</li>
						<li >
							<a href="https://github.com/jamesagnew/hapi-fhir/issues" title="Issue Tracker (Report Bugs/Request Features)" class="externalLink">Issue Tracker (Report Bugs/Request Features)</a>
						</li>
						<li >
							<a href="https://chat.fhir.org/" title="FHIR.org Chat (Live Chat with FHIR Implementors)" class="externalLink">FHIR.org Chat (Live Chat with FHIR Implementors)</a>
						</li>
						<li >
							<a href="hapi-fhir-faq.html" title="Frequently Asked Questions (FAQ)">Frequently Asked Questions (FAQ)</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote>HAPI FHIR is a Java implementation of the HL7 FHIR
				(Fast Healthcare Interoperable Resources) specification.
				This project is open source (licensed under the Apache Software
				License 2.0) and 100% free to use.<br/><br/>
				<a href="https://github.com/jamesagnew/hapi-fhir"><img src="./images/github-logo-mini.png" alt="Hosted on GitHub" border="0"/></a>
				<br/>
				Star us and we will love you!<br />
				<iframe src="https://ghbtns.com/github-btn.html?user=jamesagnew&repo=hapi-fhir&type=star&count=true" frameborder="0" scrolling="0" width="100px" height="20px"></iframe></blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014-2018 <a href="http://www.uhn.ca">University Health Network</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>

	<script src="./js/reflow-skin.js"></script>

	<script type="text/javascript">
	var elements = document.getElementsByClassName("source");
	for (var i=0; i < elements.length; i++) {
		var pres = elements[i].getElementsByTagName("pre");
		for (var j = 0; j < pres.length; j++) {
			var pre = pres[j];
			if (pre.innerHTML.match(/^\s*\&lt\;/)) {
				pre.className = 'brush: xml';
			} else if (pre.innerHTML.match(/\/\*/)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\/\//)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\{/)) {
				pre.className = 'brush: jscript';
			} else if (pre.innerHTML.match(/^\#/)) {
				pre.className = 'brush: bash';
			} else if (pre.innerHTML.match(/\&lt\;\//)) {
				pre.className = 'brush: xml';
			} else {
				pre.className = 'brush: java';
			}
		}
	}

	SyntaxHighlighter.all();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1395874-5', 'auto');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>
                </body >
</html>