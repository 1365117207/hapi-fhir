<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-08-26 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="James Agnew" />
    <meta name="Date-Revision-yyyymmdd" content="20140826" />
    <meta http-equiv="Content-Language" content="en" />
    <title>HAPI &#x2013; Logging - HAPI FHIR</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<script src="syntaxhighlighter/shCore.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushJScript.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushJava.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushBash.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushXml.js" type="text/javascript"></script>
                      
        
<link rel="stylesheet" type="text/css" href="syntaxhighlighter/shCore.css"/>
                      
        
<link rel="stylesheet" type="text/css" href="syntaxhighlighter/shThemeDefault.css"/>
                      
        
<link rel="shortcut icon" href="http://hl7api.sourceforge.net/images/favicon.png"/>
                      
        
<link rel="stylesheet" type="text/css" href="hapi.css"/>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://hl7api.sourceforge.net/hapi-fhir/" id="bannerLeft">
                                                                                                <img src="images/hapi_fhir_banner.png"  alt="HAPI"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://hl7api.sourceforge.net/hapi-fhir/" id="bannerRight">
                                                                                                <img src="images/hapi_fhir_banner_right.png"  alt="FHIR"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-08-26
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.6-SNAPSHOT
                      </li>
                      
                
                    
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://www.uhn.ca/" class="externalLink" title="University Health Network">
        University Health Network</a>
      </li>

  
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://hl7.org/" class="externalLink" title="hl7.org">
        hl7.org</a>
      </li>

  
    <li class="pull-right">
                      <a href="https://github.com/jamesagnew/hapi-fhir/" class="externalLink" title="GitHub Page">
        GitHub Page</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Welcome</li>
                              
      <li>
  
                          <a href="index.html" title="Welcome">
          <i class="none"></i>
        Welcome</a>
            </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                
      <li>
  
                          <a href="doc_upgrading.html" title="Upgrade Guide">
          <i class="none"></i>
        Upgrade Guide</a>
            </li>
                
      <li>
  
                          <a href="changes-report.html" title="Changelog">
          <i class="none"></i>
        Changelog</a>
            </li>
                              <li class="nav-header">Test Server</li>
                              
      <li>
  
                          <a href="http://fhirtest.uhn.ca" class="externalLink" title="Public Test Server">
          <i class="none"></i>
        Public Test Server</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="doc_intro.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                                                                                                                  
      <li>
  
                          <a href="doc_fhirobjects.html" title="The Data Model">
          <i class="icon-chevron-down"></i>
        The Data Model</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="doc_extensions.html" title="Extensions">
          <i class="none"></i>
        Extensions</a>
            </li>
                    
      <li>
  
                          <a href="doc_resource_references.html" title="Resource References">
          <i class="none"></i>
        Resource References</a>
            </li>
                    
      <li>
  
                          <a href="doc_tags.html" title="Tags">
          <i class="none"></i>
        Tags</a>
            </li>
                    
      <li>
  
                          <a href="doc_validation.html" title="Validation">
          <i class="none"></i>
        Validation</a>
            </li>
              </ul>
        </li>
                                                            
      <li>
  
                          <a href="doc_rest_client.html" title="RESTful Client">
          <i class="icon-chevron-down"></i>
        RESTful Client</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="doc_rest_client_interceptor.html" title="Interceptors (client)">
          <i class="none"></i>
        Interceptors (client)</a>
            </li>
              </ul>
        </li>
                                                                                                                                    
      <li>
  
                          <a href="doc_rest_server.html" title="RESTful Server">
          <i class="icon-chevron-down"></i>
        RESTful Server</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="doc_rest_operations.html" title="RESTful Operations">
          <i class="none"></i>
        RESTful Operations</a>
            </li>
                    
      <li>
  
                          <a href="doc_narrative.html" title="Narrative Generator">
          <i class="none"></i>
        Narrative Generator</a>
            </li>
                    
      <li>
  
                          <a href="doc_cors.html" title="CORS Support">
          <i class="none"></i>
        CORS Support</a>
            </li>
                    
      <li>
  
                          <a href="doc_rest_server_interceptor.html" title="Interceptors (server)">
          <i class="none"></i>
        Interceptors (server)</a>
            </li>
                    
      <li>
  
                          <a href="doc_server_tester.html" title="Web Testing UI">
          <i class="none"></i>
        Web Testing UI</a>
            </li>
              </ul>
        </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Logging</a>
          </li>
                
      <li>
  
                          <a href="doc_tinder.html" title="Tinder Plugin">
          <i class="none"></i>
        Tinder Plugin</a>
            </li>
                              <li class="nav-header">Community</li>
                              
      <li>
  
                          <a href="https://groups.google.com/d/forum/hapi-fhir" class="externalLink" title="Google Group">
          <i class="none"></i>
        Google Group</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/jamesagnew/hapi-fhir/issues" class="externalLink" title="Issue Tracker">
          <i class="none"></i>
        Issue Tracker</a>
            </li>
                              <li class="nav-header">JavaDocs</li>
                              
      <li>
  
                          <a href="apidocs/index.html" title="API Documentation">
          <i class="none"></i>
        API Documentation</a>
            </li>
                
      <li>
  
                          <a href="xref/index.html" title="JXR">
          <i class="none"></i>
        JXR</a>
            </li>
                              <li class="nav-header">Reports</li>
                              
      <li>
  
                          <a href="team-list.html" title="Developers">
          <i class="none"></i>
        Developers</a>
            </li>
                
      <li>
  
                          <a href="surefire-report.html" title="Unit Test Report">
          <i class="none"></i>
        Unit Test Report</a>
            </li>
                
      <li>
  
                          <a href="findbugs.html" title="FindBugs">
          <i class="none"></i>
        FindBugs</a>
            </li>
                
      <li>
  
                          <a href="license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/jamesagnew/hapi-fhir" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="jamesagnew.github.io/hapi-fhir/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="https://sourceforge.net/projects/hl7api/" title="Hosted on SourceForge.net" class="builtBy">
        <img class="builtBy"  alt="Hosted on SourceForge.net" src="http://sflogo.sourceforge.net/sflogo.php?group_id=38899&type=2"    />
      </a>
                                                                                                          <a href="http://maven.apache.org" title="Built with Maven 2" class="builtBy">
        <img class="builtBy"  alt="Built with Maven 2" src="images/logos/maven-feather.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            

	

		<div class="section">
<h2><a name="Logging"></a>Logging</h2>

			
			
<ul>
<li><a href="#Logging">Logging</a>
<ul>
<li><a href="#Configuring_HAPIs_Logging_-_SLF4j">Configuring HAPI's Logging - SLF4j</a></li>
<li><a href="#Commons-Logging">Commons-Logging</a></li></ul></li>
<li><a href="#Client_Payload_Logging">Client Payload Logging</a></li></ul>
			
			
<p>
				Java has an abundance of logging frameworks, none of which are perfect. Many libraries
				depend on one or more of these frameworks but also have dependencies who depend on a
				different one. These dependencies can cause conflicts and be very irritating to solve.
			</p>

			
<p>
				Unfortunately HAPI is not immune to this issue.
			</p>

			
<div class="section">
<h3><a name="Configuring_HAPIs_Logging_-_SLF4j"></a>Configuring HAPI's Logging - SLF4j</h3>
				
				<img src="svg/hapi-fhir-logging.svg" width="723" height="273" alt="Logging arch diagram" align="right" />
			
				
<p>
					HAPI uses 
					<a class="externalLink" href="http://www.slf4j.org/">SLF4j</a> 
					for all internal logging. SLF4j is a &quot;logging facade&quot; framework, meaning
					that it doesn't actually handle log output (i.e. it isn't actually writing log lines
					to disk) but rather it is able to delegate that task to any of a number of 
					underlying frameworks (e.g. log4j, logback, JDK logging, etc.)  
				</p>
				
				
<p>
					This means that in order to successfully log anything, you will need to 
					add two (or three) dependency JARs to your application:
				</p>
				
<ul>
					
<li><b>slf4j-api-vXX.jar</b>: This is the SLF4j API and is neccesary for HAPI to function</li>
					
<li>
						An actual logging implementation, as well as its SLF4j binding. For example:
						
<ul>
							
<li>
								The recommended logging framework to use is Logback. Logback is absolutely
								not neccesary for HAPI to function correctly, but it has a number of nice features
								and is a good default choice. To use logback, you would include 
								<tt><b>logback-vXX.jar</b></tt>.
							</li>
							
<li>
								If you wanted to use log4j you would include <tt><b>log4j-vXX.jar</b></tt> 
								as well as <tt><b>slf4j-log4j-vXX.jar</b></tt>. Log4j is a mature
								framework that is very widely used.
							</li>
							
<li>
								If you wanted to use JDK logging (aka java.util.Logging) you would include 
								<tt><b>slf4j-jdk14-vXX.jar</b></tt>. JDK logging is included with
								Java but is not particularly full featured compared to many other frameworks.
							</li>
						</ul> 
					</li>
				</ul>
								
			</div>

			
<div class="section">
<h3><a name="Commons-Logging"></a>Commons-Logging</h3>
				
				<img src="svg/hapi-fhir-logging-complete.svg" width="614" height="153" alt="Logging arch diagram" align="right" />
			
				
<p>
					Note that HAPI's client uses Apache HttpComponents Client internally, and that 
					library uses Apache Commons Logging as a logging facade. The recommended approach to
					using HAPI is to not include any commons-logging JAR in your application, but rather to
					include a copy of jcl-over-slf4j-vXX.jar. This JAR will simulate commons-logging,
					but will redirect its logging statements to the same target as SLF4j has been
					configured to.   
				</p>
				
				
<p>
					The diagram at the right shows the chain of command for logging under this scheme.
				</p>
				
				
<p>
					Note that some popular libraries (e.g. Spring Framework) also use commons-logging
					for logging. As such they may include a commons-logging JAR automatically as 
					a transitive dependency in Maven. If you are using jcl-over-slf4j and it isn't
					working correctly, it is often worth checking the list of JARs included in your
					application to see whether commons-logging has also been added. It can then be specifically
					excluded in Maven. 
				</p>
			
				<br />
			
			</div>

		</div>			

		
<div class="section">
<h2><a name="Client_Payload_Logging"></a>Client Payload Logging</h2>
			
			
<p>
				To enable detailed logging of client requests and responses (what URL is being requested, what headers and payload
				are being received, etc.), an interceptor may be added to the client which logs each transaction. See
				<a href="./doc_rest_client.html#req_resp_logging">Logging Requests and Responses</a> for more information.
			</p>
		
		</div>
		
	


                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://www.uhn.ca">University Health Network</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        <script type="text/javascript">
	var elements = document.getElementsByClassName("source");
	for (var i=0; i < elements.length; i++) {
		var pres = elements[i].getElementsByTagName("pre");
		for (var j = 0; j < pres.length; j++) {
			var pre = pres[j];
			if (pre.innerHTML.match(/\/\*/)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\/\//)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\{/)) {
				pre.className = 'brush: jscript';
			} else if (pre.innerHTML.match(/^\#/)) {
				pre.className = 'brush: bash';
			} else if (pre.innerHTML.match(/\&lt\;\//)) {
				pre.className = 'brush: xml';
			} else {
				pre.className = 'brush: java';
			}
		}
	}

	SyntaxHighlighter.all();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1395874-5', 'auto');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>
                </body >
</html>