<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-11-20 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="James Agnew" />
    <meta name="Date-Revision-yyyymmdd" content="20141120" />
    <meta http-equiv="Content-Language" content="en" />
    <title>HAPI &#x2013; Upgrade Guide - HAPI FHIR</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<script src="syntaxhighlighter/shCore.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushJScript.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushJava.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushBash.js" type="text/javascript"></script>
                      
        
<script src="syntaxhighlighter/shBrushXml.js" type="text/javascript"></script>
                      
        
<link rel="stylesheet" type="text/css" href="syntaxhighlighter/shCore.css"/>
                      
        
<link rel="stylesheet" type="text/css" href="syntaxhighlighter/shThemeDefault.css"/>
                      
        
<link rel="shortcut icon" href="https://github.com/jamesagnew/hapi-fhir/images/favicon.png"/>
                      
        
<link rel="stylesheet" type="text/css" href="hapi.css"/>
          
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://jamesagnew.github.io/hapi-fhir/" id="bannerLeft">
                                                                                                <img src="images/hapi_fhir_banner.png"  alt="HAPI"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://jamesagnew.github.io/hapi-fhir/" id="bannerRight">
                                                                                                <img src="images/hapi_fhir_banner_right.png"  alt="FHIR"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-11-20
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.8-SNAPSHOT
                      </li>
                      
                
                    
      
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://www.uhn.ca/" class="externalLink" title="University Health Network">
        University Health Network</a>
      </li>

  
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://hl7.org/" class="externalLink" title="hl7.org">
        hl7.org</a>
      </li>

  
    <li class="pull-right">
                      <a href="https://github.com/jamesagnew/hapi-fhir/" class="externalLink" title="GitHub Page">
        GitHub Page</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Welcome</li>
                              
      <li>
  
                          <a href="index.html" title="Welcome">
          <i class="none"></i>
        Welcome</a>
            </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Upgrade Guide</a>
          </li>
                
      <li>
  
                          <a href="changes-report.html" title="Changelog">
          <i class="none"></i>
        Changelog</a>
            </li>
                              <li class="nav-header">Test Server</li>
                              
      <li>
  
                          <a href="http://fhirtest.uhn.ca" class="externalLink" title="Public Test Server">
          <i class="none"></i>
        Public Test Server</a>
            </li>
                
      <li>
  
                          <a href="doc_vagrant.html" title="Vagrant (Private) Test Server">
          <i class="none"></i>
        Vagrant (Private) Test Server</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="doc_intro.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                                                                                                                  
      <li>
  
                          <a href="doc_fhirobjects.html" title="The Data Model">
          <i class="icon-chevron-down"></i>
        The Data Model</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="doc_extensions.html" title="Profiles & Extensions">
          <i class="none"></i>
        Profiles & Extensions</a>
            </li>
                    
      <li>
  
                          <a href="doc_resource_references.html" title="Resource References">
          <i class="none"></i>
        Resource References</a>
            </li>
                    
      <li>
  
                          <a href="doc_tags.html" title="Tags">
          <i class="none"></i>
        Tags</a>
            </li>
                    
      <li>
  
                          <a href="doc_validation.html" title="Validation">
          <i class="none"></i>
        Validation</a>
            </li>
              </ul>
        </li>
                                                            
      <li>
  
                          <a href="doc_rest_client.html" title="RESTful Client">
          <i class="icon-chevron-down"></i>
        RESTful Client</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="doc_rest_client_interceptor.html" title="Interceptors (client)">
          <i class="none"></i>
        Interceptors (client)</a>
            </li>
              </ul>
        </li>
                                                                                                                                    
      <li>
  
                          <a href="doc_rest_server.html" title="RESTful Server">
          <i class="icon-chevron-down"></i>
        RESTful Server</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="doc_rest_operations.html" title="RESTful Operations">
          <i class="none"></i>
        RESTful Operations</a>
            </li>
                    
      <li>
  
                          <a href="doc_narrative.html" title="Narrative Generator">
          <i class="none"></i>
        Narrative Generator</a>
            </li>
                    
      <li>
  
                          <a href="doc_cors.html" title="CORS Support">
          <i class="none"></i>
        CORS Support</a>
            </li>
                    
      <li>
  
                          <a href="doc_rest_server_interceptor.html" title="Interceptors (server)">
          <i class="none"></i>
        Interceptors (server)</a>
            </li>
                    
      <li>
  
                          <a href="doc_server_tester.html" title="Web Testing UI">
          <i class="none"></i>
        Web Testing UI</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="doc_logging.html" title="Logging">
          <i class="none"></i>
        Logging</a>
            </li>
                
      <li>
  
                          <a href="doc_tinder.html" title="Tinder Plugin">
          <i class="none"></i>
        Tinder Plugin</a>
            </li>
                              <li class="nav-header">Community</li>
                              
      <li>
  
                          <a href="https://groups.google.com/d/forum/hapi-fhir" class="externalLink" title="Google Group">
          <i class="none"></i>
        Google Group</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/jamesagnew/hapi-fhir/issues" class="externalLink" title="Issue Tracker">
          <i class="none"></i>
        Issue Tracker</a>
            </li>
                              <li class="nav-header">JavaDocs</li>
                              
      <li>
  
                          <a href="apidocs/index.html" title="Core API">
          <i class="none"></i>
        Core API</a>
            </li>
                
      <li>
  
                          <a href="apidocs-dstu/index.html" title="Model API (DSTU1)">
          <i class="none"></i>
        Model API (DSTU1)</a>
            </li>
                
      <li>
  
                          <a href="apidocs-dev/index.html" title="Model API (DEV)">
          <i class="none"></i>
        Model API (DEV)</a>
            </li>
                
      <li>
  
                          <a href=".https://github.com/jamesagnew/hapi-fhir" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
                              <li class="nav-header">Reports</li>
                              
      <li>
  
                          <a href="team-list.html" title="Developers">
          <i class="none"></i>
        Developers</a>
            </li>
                
      <li>
  
                          <a href="surefire-report.html" title="Unit Test Report">
          <i class="none"></i>
        Unit Test Report</a>
            </li>
                
      <li>
  
                          <a href="findbugs.html" title="FindBugs">
          <i class="none"></i>
        FindBugs</a>
            </li>
                
      <li>
  
                          <a href="license.html" title="License">
          <i class="none"></i>
        License</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/jamesagnew/hapi-fhir" class="externalLink" title="Source Code">
          <i class="none"></i>
        Source Code</a>
            </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="hl7api.sourceforge.net/hapi-fhir/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="https://github.com/jamesagnew/hapi-fhir" title="Hosted on GitHub" class="builtBy">
        <img class="builtBy"  alt="Hosted on GitHub" src="images/github-logo-mini.png"    />
      </a>
                                                                                                          <a href="http://maven.apache.org" title="Built with Maven 3" class="builtBy">
        <img class="builtBy"  alt="Built with Maven 3" src="images/maven-logo-mini.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            

	

		<div class="section">
<h2><a name="Upgrading_to_HAPI_FHIR_0.8_-_DRAFT"></a>Upgrading to HAPI FHIR 0.8 - DRAFT</h2>
			
			
			
<ul>
<li><a href="#Upgrading_to_HAPI_FHIR_0.8_-_DRAFT">Upgrading to HAPI FHIR 0.8 - DRAFT</a>
<ul>
<li><a href="#Tinder_Plugin">Tinder Plugin</a></li></ul></li>
<li><a href="#Upgrading_to_HAPI_FHIR_0.5">Upgrading to HAPI FHIR 0.5</a>
<ul>
<li><a href="#Importing_Resources">Importing Resources</a></li>
<li><a href="#Tinder_Plugin">Tinder Plugin</a></li></ul></li>
<li><a href="#Upgrading_to_HAPI_FHIR_0.5">Upgrading to HAPI FHIR 0.5</a>
<ul>
<li><a href="#Global_Changes">Global Changes</a></li>
<li><a href="#Changes_to_Server_Code">Changes to Server Code</a></li>
<li><a href="#Changes_to_Client_Code">Changes to Client Code</a></li></ul></li></ul>
			
			
<div class="section">
<h3><a name="Tinder_Plugin"></a>Tinder Plugin</h3>
				
				
<p>
					If you are using the &quot;Tinder&quot; Maven plugin to generate structure code,
					you will need to add a structure dependency to the plugin configuration
					itself in your project pom.xml. See the
					<a href="./doc_tinder.html">Tinder Page</a> for an example of 
					how to do this.
				</p>
				
			</div>
		</div>

		
<div class="section">
<h2><a name="Upgrading_to_HAPI_FHIR_0.5"></a>Upgrading to HAPI FHIR 0.5</h2>

			
			
<p>
				<b>This section is still incomplete: </b> Note that HAPI 0.8 has not 
				yet been released. This section provides details about how to use the
				latest SNAPSHOT release, but it will continue to be enhanced as we move towards
				the final 0.8 release.
			</p>
			
			
<div class="section">
<h3><a name="Importing_Resources"></a>Importing Resources</h3>
			
				
<p>
					Beginning in HAPI-FHIR 0.8, the main distribution has been split from one
					JAR to a set of JAR files. You will need at least two to use HAPI:
				</p>
				
<ul>
					
<li>
						<i>Required:</i> The <tt>hapi-fhir-base-[version].jar</tt> file containing the core library.
					</li>
					
<li>
						<i>Required:</i> The <tt>hapi-fhir-structures-dstu-[version].jar</tt> file containing the FHIR model classes
						for DSTU1 (all contents of this JAR were previously found in hapi-fhir-base).
					</li>
					
<li>
						<i>Optional:</i> You may also choose to include the 
						<tt>hapi-fhir-structures-dev-[version].jar</tt>. This JAR contains structures for the 
						latest DEV version of FHIR. You may create a client/server which supports either DSTU1 or DEV
						resources, or both depending on your needs. Note that using DEV resources may introduce 
						incompatibilities with other frameworks however. If you are including this JAR,
						<b>you must also include hapi-fhir-structures-dstu-[version].jar</b>. 
						Hopefully by the time 0.8 is final this requirement will be relaxed, but for now it
						is mandatory.
					</li>
				</ul>
			
			</div>
			
			
<div class="section">
<h3><a name="Tinder_Plugin"></a>Tinder Plugin</h3>
				
				
<p>
					If you are using the &quot;Tinder&quot; Maven plugin to generate structure code,
					you will need to add a structure dependency to the plugin configuration
					itself in your project pom.xml. See the
					<a href="./doc_tinder.html">Tinder Page</a> for an example of 
					how to do this.
				</p>
				
			</div>
		</div>

		
<div class="section">
<h2><a name="Upgrading_to_HAPI_FHIR_0.5"></a>Upgrading to HAPI FHIR 0.5</h2>

			
			
<p>
				As the HAPI FHIR API begins to mature, a number of minor changes to the way the library works
				have been introduced. Mostly these changes are made in order to make a consistent API across functions.
				This page outlines how to upgrade your code to work with HAPI 0.5.
			</p>

			
<div class="section">
<h3><a name="Global_Changes"></a>Global Changes</h3>
			
				
<ul>
					
<li>
						The 
						IdDt
						class, which is used to represent resource IDs has been vastly
						improved so that they can store any form of ID, including a simple alphanumeric 
						ID (1234), a relative ID (Patient/1234), a fully qualified ID (http://foo/Patient/1234) or
						even a version specific ID (Patient/1234/_history/2). As a result, a number
						of version specific fields/methods have been deprocated. In general, if you 
						need to get or set (or otherwise specify) the ID of a resource, you can simply
					</li>
				</ul>
				
			</div>

			
			
<div class="section">
<h3><a name="Changes_to_Server_Code"></a>Changes to Server Code</h3>
			
				
<ul>
					
<li>
						If your server implements <tt>_include</tt>: The PathSpecification 
						class has been renamed to Include. Any RESTful methods which 
						have a parameter of type PathSpecification should simply use the Include
						type instead, which is identical.
					</li>
					
<li>
						A set of <b>search</b> operation value parameters has been created, which
						have names that match the value types described in the FHIR specification. For
						example, Patient's &quot;identifier&quot; search param is a &quot;token&quot; type. Previous examples
						in the HAPI documentation used a type of IdentifierDt for this parameter. A new
						class called TokenParam, as well as repeatable extensions called TokenOrListParam
						and TokenAndListParam have been created and should be used instead. 
						See the
						<a href="./doc_rest_operations.html#type_search">RESTful Operations</a> search section
						for information on these new types.
					</li>
				</ul>
			
			</div>
			
			
<div class="section">
<h3><a name="Changes_to_Client_Code"></a>Changes to Client Code</h3>
				
				
<ul>
					
<li>
						Fluent/generic client search parameter types have been renamed from [type]Param to [type]ClientParam,
						to avoid conflicts with server types. So, for example the TokenParam class that can be used
						in fluent searches is now called TokenClientParam.					
					</li>
				</ul>
				
			</div>
					
		</div>
		
	


                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://www.uhn.ca">University Health Network</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        <script type="text/javascript">
	var elements = document.getElementsByClassName("source");
	for (var i=0; i < elements.length; i++) {
		var pres = elements[i].getElementsByTagName("pre");
		for (var j = 0; j < pres.length; j++) {
			var pre = pres[j];
			if (pre.innerHTML.match(/\/\*/)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\/\//)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\{/)) {
				pre.className = 'brush: jscript';
			} else if (pre.innerHTML.match(/^\#/)) {
				pre.className = 'brush: bash';
			} else if (pre.innerHTML.match(/\&lt\;\//)) {
				pre.className = 'brush: xml';
			} else {
				pre.className = 'brush: java';
			}
		}
	}

	SyntaxHighlighter.all();
</script>
<script type="text/javascript">
	var elements = document.getElementsByClassName("source");
	for (var i=0; i < elements.length; i++) {
		var pres = elements[i].getElementsByTagName("pre");
		for (var j = 0; j < pres.length; j++) {
			var pre = pres[j];
			if (pre.innerHTML.match(/\/\*/)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\/\//)) {
				pre.className = 'brush: java';
			} else if (pre.innerHTML.match(/^\{/)) {
				pre.className = 'brush: jscript';
			} else if (pre.innerHTML.match(/^\#/)) {
				pre.className = 'brush: bash';
			} else if (pre.innerHTML.match(/\&lt\;\//)) {
				pre.className = 'brush: xml';
			} else {
				pre.className = 'brush: java';
			}
		}
	}

	SyntaxHighlighter.all();
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1395874-5', 'auto');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>
                </body >
</html>